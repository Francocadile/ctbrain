exports.id=3481,exports.ids=[3481],exports.modules={54630:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},97992:(e,t,a)=>{Promise.resolve().then(a.bind(a,94340))},14497:(e,t,a)=>{Promise.resolve().then(a.bind(a,42126))},90434:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(79404),s=a.n(r)},35047:(e,t,a)=>{"use strict";var r=a(77389);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},94340:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(10326);a(17577);var s=a(90434),i=a(35047),n=a(77109),l=a(82152);function c({href:e,children:t,active:a,soon:i}){let n="block rounded-md px-2 py-1.5 text-sm transition";return e?r.jsx(s.default,{href:e,className:`${n} ${a?"bg-black text-white":"hover:bg-gray-100"}`,children:t}):(0,r.jsxs)("span",{className:`${n} text-gray-400 cursor-not-allowed`,children:[t," ",i&&r.jsx("small",{className:"ml-1",children:"PRONTO"})]})}function o({children:e}){let t=(0,i.usePathname)(),a=e=>t===e||t?.startsWith(e+"/");return(0,r.jsxs)("div",{className:"min-h-screen flex bg-gray-50",children:[(0,r.jsxs)("aside",{className:"w-64 shrink-0 border-r bg-white p-3 space-y-3",children:[r.jsx(l.default,{className:"w-full"}),r.jsx("div",{className:"px-2 py-1 text-[10px] font-semibold text-gray-500",children:"INICIO"}),r.jsx("ul",{className:"space-y-0.5 mb-2",children:r.jsx("li",{children:r.jsx(c,{href:"/ct",active:"/ct"===t,children:"Dashboard / Inicio r\xe1pido"})})}),r.jsx("div",{className:"px-2 py-1 text-[10px] font-semibold text-gray-500",children:"MONITOREO"}),(0,r.jsxs)("ul",{className:"space-y-0.5 mb-2",children:[r.jsx("li",{children:r.jsx(c,{href:"/ct/metrics/wellness",active:a("/ct/metrics/wellness"),children:"Wellness"})}),r.jsx("li",{children:r.jsx(c,{href:"/ct/metrics/rpe",active:a("/ct/metrics/rpe"),children:"Rpe"})}),r.jsx("li",{children:r.jsx(c,{href:"/ct/injuries",active:a("/ct/injuries"),children:"Lesionados"})})]}),r.jsx("div",{className:"px-2 py-1 text-[10px] font-semibold text-gray-500",children:"PLANIFICACI\xd3N"}),(0,r.jsxs)("ul",{className:"space-y-0.5 mb-2",children:[r.jsx("li",{children:r.jsx(c,{href:"/ct/plan-semanal",active:a("/ct/plan-semanal"),children:"Plan semanal (Editor)"})}),r.jsx("li",{children:r.jsx(c,{href:"/ct/sessions",active:a("/ct/sessions"),children:"Sesiones"})}),r.jsx("li",{children:r.jsx(c,{href:"/ct/exercises",active:a("/ct/exercises"),children:"Ejercicios"})})]}),r.jsx("div",{className:"px-2 py-1 text-[10px] font-semibold text-gray-500",children:"T\xc9CNICA"}),(0,r.jsxs)("ul",{className:"space-y-0.5 mb-2",children:[r.jsx("li",{children:r.jsx(c,{href:"/ct/rivales",active:a("/ct/rivales"),children:"Rivales / Plan de partido"})}),r.jsx("li",{children:r.jsx(c,{href:"/ct/scouting",active:a("/ct/scouting"),children:"Scouting"})})]}),r.jsx("div",{className:"px-2 py-1 text-[10px] font-semibold text-gray-500",children:"SALIR"}),r.jsx("ul",{className:"space-y-0.5",children:r.jsx("li",{children:r.jsx("button",{"aria-label":"Cerrar sesi\xf3n",onClick:()=>(0,n.signOut)({callbackUrl:"/login"}),className:"block w-full text-left rounded-md px-2 py-1.5 text-sm transition hover:bg-gray-100",children:"Cerrar sesi\xf3n"})})})]}),r.jsx("main",{className:"flex-1 p-3 md:p-4",children:e})]})}},42126:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(10326),s=a(77109);function i({children:e}){return r.jsx(s.SessionProvider,{children:e})}},82152:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var r=a(10326),s=a(17577),i=a(77109),n=a(35047);function l({className:e,label:t="Equipo"}){let{data:a,status:l,update:c}=(0,i.useSession)(),o=(0,n.useRouter)(),d=(0,s.useMemo)(()=>a?.user?.teamIds??[],[a?.user?.teamIds]);a?.user?.currentTeamId;let[u,h]=(0,s.useState)([]),[m,p]=(0,s.useState)(""),[x,g]=(0,s.useState)(!1),[f,y]=(0,s.useState)(!1),[j,b]=(0,s.useState)(null),v=d.length>0;if((0,s.useMemo)(()=>v?[...d].sort().join("|"):"",[v,d]),"loading"===l||!v)return null;async function S(e){let t=e.target.value;if(t&&t!==m){p(t),y(!0),b(null);try{document.cookie=`ctb_team=${encodeURIComponent(t)}; path=/; max-age=2592000; SameSite=Lax`;let e=await fetch("/api/session/team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teamId:t})});if(!e.ok){let t=await e.json().catch(()=>null);throw Error(t?.error||`Error ${e.status}`)}await c?.(),o.refresh()}catch(e){p(m),b(e?.message||"No se pudo cambiar de equipo.")}finally{y(!1)}}}let N=["flex flex-col gap-1 text-xs",e].filter(Boolean).join(" ");return 0===u.length?null:(0,r.jsxs)("div",{className:N,children:[r.jsx("label",{className:"text-[10px] font-semibold uppercase text-gray-500",children:t}),r.jsx("select",{value:m,onChange:S,disabled:x||f,className:"w-full rounded-md border px-2 py-1.5 text-sm disabled:opacity-60",children:u.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))}),j?r.jsx("span",{className:"text-[11px] text-red-600",children:j}):null]})}},35698:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(10326);function s({children:e}){return r.jsx("div",{className:"mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-8",children:e})}},78109:(e,t,a)=>{"use strict";a.d(t,{Jp:()=>h,M_:()=>d,RC:()=>u,WQ:()=>m,k4:()=>l,kb:()=>n,uu:()=>o,yr:()=>c});let r="ct_scout_categories",s="ct_scout_players_";async function i(e,t,a=6e3){try{let r=e.startsWith("http")?e:`${e}`,s=new AbortController,i=setTimeout(()=>s.abort(),a),n=await fetch(r,{...t,signal:s.signal,cache:"no-store"});if(clearTimeout(i),!n.ok)return null;return await n.json()}catch{return null}}async function n(){let e=await i("/api/ct/scouting/categories");if(e?.data){try{localStorage.setItem(r,JSON.stringify(e.data))}catch{}return e.data}try{let e=localStorage.getItem(r);if(e)return JSON.parse(e)}catch{}return[]}async function l(e){let t=await i("/api/ct/scouting/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:e})});if(t?.data){let e=await n();e.push(t.data);try{localStorage.setItem(r,JSON.stringify(e))}catch{}return t.data}let a=e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,""),s={id:`local_${Date.now()}`,nombre:e,slug:a,orden:Date.now(),activa:!0,color:void 0},l=await n();l.push(s);try{localStorage.setItem(r,JSON.stringify(l))}catch{}return s}async function c(e,t){let a=await i(`/api/ct/scouting/categories/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(a?.data){let t=await n(),s=t.findIndex(t=>t.id===e);s>=0&&(t[s]=a.data);try{localStorage.setItem(r,JSON.stringify(t))}catch{}return a.data}let s=await n(),l=s.findIndex(t=>t.id===e);l>=0&&(s[l]={...s[l],...t});try{localStorage.setItem(r,JSON.stringify(s))}catch{}return s[l]}async function o(e){try{let t=await fetch(`/api/ct/scouting/categories/${e}`,{method:"DELETE",cache:"no-store"}),a=null;try{a=await t.json()}catch{a=null}if(!t.ok)return{error:a?.error||`HTTP ${t.status}`};let s=(await n()).filter(t=>t.id!==e);try{localStorage.setItem(r,JSON.stringify(s))}catch{}return{ok:!0}}catch(e){return{error:e?.message||"Error de red al borrar categor\xeda"}}}async function d(e){let t=new URLSearchParams;e?.categoriaId&&t.set("categoriaId",e.categoriaId),e?.q&&t.set("q",e.q),e?.estado&&t.set("estado",e.estado);let a=await i(`/api/ct/scouting/players?${t.toString()}`);if(a?.data){if(e?.categoriaId)try{localStorage.setItem(s+e.categoriaId,JSON.stringify(a.data))}catch{}return a.data}if(e?.categoriaId)try{let t=localStorage.getItem(s+e.categoriaId);if(t)return JSON.parse(t)}catch{}return[]}async function u(e){let t=await i(`/api/ct/scouting/players/${e}`);return t?.data??null}async function h(e){let t={...e},a=e.id?`/api/ct/scouting/players/${e.id}`:"/api/ct/scouting/players",r=e.id?"PUT":"POST",n=await i(a,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n?.data){if(n.data.categoriaId){let e=await d({categoriaId:n.data.categoriaId}),t=e.findIndex(e=>e.id===n.data.id);t>=0?e[t]=n.data:e.push(n.data);try{localStorage.setItem(s+n.data.categoriaId,JSON.stringify(e))}catch{}}return n.data}let l={id:e.id??`local_${Date.now()}`,fullName:e.fullName,positions:e.positions??[],club:e.club??null,estado:e.estado??"ACTIVO",categoriaId:e.categoriaId??null,agentName:e.agentName??null,agentPhone:e.agentPhone??null,agentEmail:e.agentEmail??null,playerPhone:e.playerPhone??null,playerEmail:e.playerEmail??null,instagram:e.instagram??null,videos:e.videos??[],notes:e.notes??null,rating:e.rating??null,tags:e.tags??[]};if(l.categoriaId){let e=await d({categoriaId:l.categoriaId}),t=e.findIndex(e=>e.id===l.id);t>=0?e[t]=l:e.push(l);try{localStorage.setItem(s+l.categoriaId,JSON.stringify(e))}catch{}}return l}async function m(e){return await i(`/api/ct/scouting/players/${e}`,{method:"DELETE"}),{ok:!0}}},66382:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=a(68570);let s=(0,r.createProxy)(String.raw`/Users/Fran/ctbrain-14/src/app/ct/layout.tsx`),{__esModule:i,$$typeof:n}=s;s.default;let l=(0,r.createProxy)(String.raw`/Users/Fran/ctbrain-14/src/app/ct/layout.tsx#default`)},15495:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d,metadata:()=>o});var r=a(19510);a(5023);var s=a(68570);let i=(0,s.createProxy)(String.raw`/Users/Fran/ctbrain-14/src/app/providers.tsx`),{__esModule:n,$$typeof:l}=i;i.default;let c=(0,s.createProxy)(String.raw`/Users/Fran/ctbrain-14/src/app/providers.tsx#default`),o={title:"ctbrain",description:"App"};function d({children:e}){return r.jsx("html",{lang:"es",children:r.jsx("body",{children:r.jsx(c,{children:e})})})}},5023:()=>{}};