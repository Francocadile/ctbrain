(()=>{var a={};a.id=2787,a.ids=[2787],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},1170:(a,b,c)=>{Promise.resolve().then(c.bind(c,6875))},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6875:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k});var d=c(71265),e=c(46028),f=c.n(e),g=c(38515),h=c(34708);function i(){return{showSystem:!0,showKeyPlayers:!0,showStrengths:!0,showWeaknesses:!0,showSetPiecesFor:!0,showSetPiecesAgainst:!0,showCharlaUrl:!1,showVideos:!0,showStatsTotalsGF:!0,showStatsTotalsGA:!0,showStatsTotalsPossession:!0,showStatsRecent:!0,showNotesForPlayers:!1,showSquad:!0}}function j(a){if(!a)return!0;try{let b=new URL(a);return"http:"===b.protocol||"https:"===b.protocol}catch{return!1}}function k(){let{id:a}=(0,g.useParams)(),b=(0,g.useSearchParams)(),c=b.get("tab")||"resumen",e="1"===b.get("player");b.get("print");let[k,p]=(0,h.useState)(c);function q(a){p(a);let b=new URL(window.location.href);b.searchParams.set("tab",a),window.history.replaceState(null,"",b.toString())}let[r,s]=(0,h.useState)(e),[t,u]=(0,h.useState)(!0),[v,w]=(0,h.useState)(null),[x,y]=(0,h.useState)(!0),[z,A]=(0,h.useState)(!1),[B,C]=(0,h.useState)({charlaUrl:"",report:{system:"",strengths:[],weaknesses:[],keyPlayers:[],setPieces:{for:[],against:[]}}}),[D,E]=(0,h.useState)(!1),[F,G]=(0,h.useState)(!1),[H,I]=(0,h.useState)(""),[J,K]=(0,h.useState)(""),[L,M]=(0,h.useState)(""),[N,O]=(0,h.useState)(""),[P,Q]=(0,h.useState)([]),[R,S]=(0,h.useState)(!0),[T,U]=(0,h.useState)(!1),[V,W]=(0,h.useState)(""),[X,Y]=(0,h.useState)(""),[Z,$]=(0,h.useState)({totals:{gf:void 0,ga:void 0,possession:void 0},recent:[]}),[_,aa]=(0,h.useState)(!0),[ab,ac]=(0,h.useState)(!1),[ad,ae]=(0,h.useState)({observations:"",checklist:[]}),[af,ag]=(0,h.useState)(!0),[ah,ai]=(0,h.useState)(!1),[aj,ak]=(0,h.useState)(""),[al,am]=(0,h.useState)(i()),[an,ao]=(0,h.useState)(!0),[ap,aq]=(0,h.useState)(!1),[ar,as]=(0,h.useState)(!1),[at,au]=(0,h.useState)(null),[av,aw]=(0,h.useState)(null),[ax,ay]=(0,h.useState)(null),[az,aA]=(0,h.useState)(null),[aB,aC]=(0,h.useState)(null),[aD,aE]=(0,h.useState)(null),[aF,aG]=(0,h.useState)(!1),[aH,aI]=(0,h.useState)(null),[aJ,aK]=(0,h.useState)(null),[aL,aM]=(0,h.useState)(null);function aN(a){return a.split("\n").map(a=>a.trim()).filter(Boolean)}function aO(a){return(a||[]).join("\n")}async function aP(){let b=await fetch(`/api/ct/rivales/${a}`,{cache:"no-store"});if(!b.ok)throw Error("rival not found");let c=await b.json(),d=c?.data;w(d),I(d.coach||""),K(d.baseSystem||""),M(function(a){if(!a)return"";let b=new Date(a),c=a=>String(a).padStart(2,"0");return`${b.getFullYear()}-${c(b.getMonth()+1)}-${c(b.getDate())}T${c(b.getHours())}:${c(b.getMinutes())}`}(d.nextMatchDate)),O(d.nextMatchCompetition||"")}async function aQ(){let b=await fetch(`/api/ct/rivales/${a}/plan`,{cache:"no-store"});if(!b.ok)return;let c=await b.json(),d=c?.data||{};C({charlaUrl:d.charlaUrl??"",report:{system:d.report?.system??"",strengths:d.report?.strengths??[],weaknesses:d.report?.weaknesses??[],keyPlayers:d.report?.keyPlayers??[],setPieces:{for:d.report?.setPieces?.for??[],against:d.report?.setPieces?.against??[]}}})}async function aR(){S(!0);try{let b=await fetch(`/api/ct/rivales/${a}/videos`,{cache:"no-store"}),c=await b.json().catch(()=>({}));Q(Array.isArray(c?.data)?c.data:[])}finally{S(!1)}}async function aS(){aa(!0);try{let b=await fetch(`/api/ct/rivales/${a}/stats`,{cache:"no-store"}),c=await b.json().catch(()=>({})),d=c?.data||{};$({totals:{gf:d.totals?.gf,ga:d.totals?.ga,possession:d.totals?.possession},recent:Array.isArray(d.recent)?d.recent:[]})}finally{aa(!1)}}async function aT(){ag(!0);try{let b=await fetch(`/api/ct/rivales/${a}/notas`,{cache:"no-store"}),c=await b.json().catch(()=>({})),d=c?.data||{};ae({observations:d.observations??"",checklist:Array.isArray(d.checklist)?d.checklist:[]})}finally{ag(!1)}}async function aU(){ao(!0);try{let b=await fetch(`/api/ct/rivales/${a}/visibility`,{cache:"no-store"}),c=await b.json().catch(()=>({})),d=c?.data||i();am({...i(),...d})}finally{ao(!1)}}async function aV(){as(!0);try{let b=await fetch(`/api/ct/rivales/${a}/player`,{cache:"no-store"}),c=await b.json().catch(()=>({})),d=c?.data||{};au(d.basics??null),aw(d.plan??null),ay(Array.isArray(d.videos)?d.videos:null),aA(d.stats??null),aC(d.notes??null),aE(d.visibility??null)}finally{as(!1)}}function aW(a){let b=new URL(window.location.href);return b.searchParams.set("player","1"),a&&b.searchParams.set("tab",a),b.searchParams.delete("print"),b.toString()}let aX=(0,h.useMemo)(()=>!(!X||j(X))||(P||[]).some(a=>!!a.url&&!j(a.url)),[X,P]);async function aY(b){b.preventDefault(),A(!0);try{let b={charlaUrl:B.charlaUrl?.trim()||null,report:{system:B.report.system?.trim()||null,strengths:B.report.strengths||[],weaknesses:B.report.weaknesses||[],keyPlayers:B.report.keyPlayers||[],setPieces:{for:B.report.setPieces?.for||[],against:B.report.setPieces?.against||[]}}};if(!(await fetch(`/api/ct/rivales/${a}/plan`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok)throw Error("No se pudo guardar el plan");await aQ(),r&&await aV()}catch(a){alert(a?.message||"Error al guardar")}finally{A(!1)}}async function aZ(a){if(a.preventDefault(),v){G(!0);try{let a={name:v.name,logoUrl:v.logoUrl??null,coach:H.trim()||null,baseSystem:J.trim()||null,nextMatchDate:function(a){if(!a)return null;let b=new Date(a);return isNaN(b.getTime())?null:b.toISOString()}(L),nextMatchCompetition:N.trim()||null},b=await fetch(`/api/ct/rivales/${v.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error("No se pudo guardar los datos");let c=await b.json();w(c?.data),E(!1),r&&await aV()}catch(a){alert(a?.message||"Error al guardar")}finally{G(!1)}}}function a$(){let a=X.trim();a&&(Q(b=>[{title:V.trim()||null,url:a},...b]),W(""),Y(""))}async function a_(){if(aX)return void alert("Hay URLs de video inv\xe1lidas. Corregilas para guardar.");U(!0);try{if(!(await fetch(`/api/ct/rivales/${a}/videos`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({videos:P})})).ok)throw Error("No se pudo guardar videos");await aR(),r&&await aV()}catch(a){alert(a?.message||"Error al guardar videos")}finally{U(!1)}}function a0(a,b){$(c=>{let d=[...c.recent||[]];return d[a]={...d[a],...b},{...c,recent:d}})}async function a1(){ac(!0);try{let b={totals:{gf:Z.totals?.gf??void 0,ga:Z.totals?.ga??void 0,possession:Z.totals?.possession??void 0},recent:Z.recent||[]};if(!(await fetch(`/api/ct/rivales/${a}/stats`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok)throw Error("No se pudo guardar estad\xedsticas");await aS(),r&&await aV()}catch(a){alert(a?.message||"Error al guardar estad\xedsticas")}finally{ac(!1)}}function a2(){let a=aj.trim();a&&(ae(b=>({...b,checklist:[{text:a,done:!1},...b.checklist||[]]})),ak(""))}async function a3(){ai(!0);try{let b={observations:(ad.observations||"").trim(),checklist:(ad.checklist||[]).map(a=>({text:a.text.trim(),done:!!a.done}))};if(!(await fetch(`/api/ct/rivales/${a}/notas`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok)throw Error("No se pudo guardar notas");await aT(),r&&await aV()}catch(a){alert(a?.message||"Error al guardar notas")}finally{ai(!1)}}function a4(a,b){am(c=>({...c,[a]:b}))}async function a5(b){aq(!0);try{await fetch(`/api/ct/rivales/${a}/visibility`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),await aU(),r&&await aV()}catch(a){alert(a?.message||"Error al guardar visibilidad")}finally{aq(!1)}}async function a6(){await a5({...al})}async function a7(){let a=i();am(a),await a5(a)}async function a8(){if(!aH)return void aM("Seleccion\xe1 un PDF primero.");aG(!0),aM(null);try{let b=new FormData;b.set("file",aH);let c=await fetch(`/api/ct/rivales/${a}/import/pdf`,{method:"POST",body:b});if(!c.ok)throw Error(await c.text());await Promise.all([aP(),aQ(),aS()]),aM("PDF importado. Se actualizaron datos del plan y estad\xedsticas (si se pudieron extraer)."),r&&await aV()}catch(a){aM(a?.message||"Error importando PDF")}finally{aG(!1)}}async function a9(){if(!aJ)return void aM("Seleccion\xe1 un CSV primero.");aG(!0),aM(null);try{let b=new FormData;b.set("file",aJ);let c=await fetch(`/api/ct/rivales/${a}/import/csv`,{method:"POST",body:b});if(!c.ok)throw Error(await c.text());await aS(),aM("CSV importado. Se actualizaron \xfaltimos partidos y totales."),r&&await aV()}catch(a){aM(a?.message||"Error importando CSV")}finally{aG(!1)}}if(t)return(0,d.jsx)("div",{className:"p-4 text-gray-500",children:"Cargando…"});if(!v)return(0,d.jsxs)("div",{className:"p-4 space-y-3",children:[(0,d.jsx)("div",{className:"text-red-500",children:"Rival no encontrado"}),(0,d.jsx)(f(),{href:"/ct/rivales",className:"text-sm underline",children:"← Volver a Rivales"})]});let ba=r?at??v:v,bb=function(a){if(!a?.nextMatchDate)return"—";try{let b=new Date(a.nextMatchDate).toLocaleString(void 0,{weekday:"short",day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return`${b}${a.nextMatchCompetition?` • ${a.nextMatchCompetition}`:""}`}catch{return"—"}}(ba),bc=!r;return(0,d.jsxs)("div",{className:"p-4 space-y-4 print-container",children:[(0,d.jsx)("style",{children:`
        @media print {
          .print-hidden { display: none !important; }
          .print-container { padding: 0 !important; }
          .print-card { border: none !important; box-shadow: none !important; }
        }
      `}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 flex items-center justify-between print-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(f(),{href:"/ct/rivales",className:"underline",children:"Rivales"}),(0,d.jsx)("span",{className:"mx-1",children:"/"}),(0,d.jsx)("span",{className:"font-medium",children:ba.name})]}),(0,d.jsxs)("div",{className:"hidden md:flex items-center gap-1",children:[(0,d.jsx)("button",{onClick:()=>{try{let a=aW(k);navigator.clipboard?.writeText(a),alert("Enlace copiado (vista jugadores).")}catch{alert("No se pudo copiar. Copi\xe1 desde la barra del navegador.")}},className:"text-[11px] px-2 py-1 rounded-md border hover:bg-gray-50",title:"Copia un enlace que abre esta ficha en modo jugador",children:"Copiar enlace (jugadores)"}),(0,d.jsx)("button",{onClick:function(){try{let a=new URL(aW(k));a.searchParams.set("print","1"),window.open(a.toString(),"_blank")}catch{let a=new URL(window.location.href);a.searchParams.set("player","1"),a.searchParams.set("print","1"),window.open(a.toString(),"_blank")}},className:"text-[11px] px-2 py-1 rounded-md border hover:bg-gray-50",title:"Abre la Vista Jugador e imprime/exporta",children:"Imprimir / Exportar"})]})]}),(0,d.jsxs)("label",{className:"flex items-center gap-2 text-xs cursor-pointer select-none",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Vista jugador"}),(0,d.jsx)("input",{type:"checkbox",checked:r,onChange:()=>s(a=>!a),className:"h-4 w-4"}),r&&(0,d.jsx)("span",{className:"px-2 py-0.5 rounded-md bg-emerald-100 text-emerald-800",children:"Previsualizando"})]})]}),(0,d.jsxs)("header",{className:"flex items-center gap-4 border-b pb-3",children:[ba.logoUrl?(0,d.jsx)("img",{src:ba.logoUrl,alt:ba.name,className:"h-16 w-16 rounded border object-contain bg-white"}):(0,d.jsx)("div",{className:"h-16 w-16 rounded border bg-gray-100"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h1",{className:"text-xl font-bold",children:ba.name}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["DT: ",(0,d.jsx)("b",{children:ba.coach||"—"})," • Sistema base: ",ba.baseSystem||"—"]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Pr\xf3ximo partido: ",bb]})]}),bc&&"resumen"===k&&(0,d.jsx)("button",{onClick:()=>E(a=>!a),className:"text-xs px-3 py-1.5 rounded-xl border hover:bg-gray-50 print-hidden",children:D?"Cancelar":"Editar"})]}),(0,d.jsxs)("nav",{className:"flex gap-2 border-b print-hidden",children:[(0,d.jsx)("button",{onClick:()=>q("resumen"),className:`px-3 py-2 text-sm font-medium border-b-2 ${"resumen"===k?"border-black text-black":"border-transparent text-gray-500 hover:text-black"}`,children:"Resumen"}),(!r||aD?.showSquad)&&(0,d.jsx)(f(),{href:`/ct/rivales/${a}/plantel`,className:"px-3 py-2 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-black",children:"Plantel"}),[{key:"plan",label:"Plan de partido"},{key:"videos",label:"Videos"},{key:"stats",label:"Estad\xedsticas"},{key:"notas",label:"Notas internas"},{key:"visibilidad",label:"Visibilidad"},{key:"importar",label:"Importar"}].map(a=>(0,d.jsx)("button",{onClick:()=>q(a.key),className:`px-3 py-2 text-sm font-medium border-b-2 ${k===a.key?"border-black text-black":"border-transparent text-gray-500 hover:text-black"}`,children:a.label},a.key))]}),(0,d.jsxs)("section",{className:"rounded-xl border bg-white p-4 print-card",children:["resumen"===k&&(0,d.jsx)(d.Fragment,{children:D&&bc?(0,d.jsxs)("form",{onSubmit:aZ,className:"space-y-4",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold",children:"Editar datos del rival"}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"DT"}),(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1.5 text-sm",value:H,onChange:a=>I(a.target.value)})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"Sistema base"}),(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1.5 text-sm",value:J,onChange:a=>K(a.target.value)})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"Pr\xf3ximo partido (fecha y hora)"}),(0,d.jsx)("input",{type:"datetime-local",className:"w-full rounded-md border px-2 py-1.5 text-sm",value:L,onChange:a=>M(a.target.value)})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"Competici\xf3n"}),(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1.5 text-sm",value:N,onChange:a=>O(a.target.value)})]})]}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"submit",disabled:F,className:`px-3 py-1.5 rounded-xl text-xs ${F?"bg-gray-200 text-gray-500":"bg-black text-white hover:opacity-90"}`,children:F?"Guardando…":"Guardar cambios"})})]}):(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold",children:"Resumen"}),(0,d.jsxs)("ul",{className:"text-sm text-gray-700 list-disc pl-4",children:[(0,d.jsxs)("li",{children:["DT: ",ba.coach||"—"]}),(0,d.jsxs)("li",{children:["Sistema base: ",ba.baseSystem||"—"]}),(0,d.jsxs)("li",{children:["Pr\xf3ximo partido: ",bb]})]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-2 print-hidden",children:"* Estos campos se pueden editar desde el listado de rivales (o m\xe1s adelante desde esta ficha)."})]})}),"plan"===k&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold",children:"Plan de partido"}),r&&(0,d.jsx)("span",{className:"text-[11px] px-2 py-1 rounded-md bg-amber-100 text-amber-800 print-hidden",children:"Vista jugador (aplicando visibilidad)"})]}),r?ar?(0,d.jsx)("div",{className:"text-gray-500 text-sm",children:"Cargando…"}):(0,d.jsxs)("div",{className:"space-y-3",children:[aD?.showCharlaUrl&&av?.charlaUrl?(0,d.jsxs)("div",{className:"rounded-lg border bg-gray-50 p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-1",children:"Charla oficial"}),(0,d.jsx)("a",{href:av.charlaUrl,target:"_blank",rel:"noreferrer",className:"text-sm underline",children:"Abrir charla →"})]}):null,(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[aD?.showSystem&&(0,d.jsx)(l,{title:"Sistema",content:av?.report.system||"—"}),aD?.showKeyPlayers&&(0,d.jsx)(m,{title:"Jugadores clave",items:av?.report.keyPlayers}),aD?.showStrengths&&(0,d.jsx)(m,{title:"Fortalezas",items:av?.report.strengths}),aD?.showWeaknesses&&(0,d.jsx)(m,{title:"Debilidades",items:av?.report.weaknesses}),aD?.showSetPiecesFor&&(0,d.jsx)(m,{title:"Bal\xf3n parado (a favor)",items:av?.report.setPieces?.for}),aD?.showSetPiecesAgainst&&(0,d.jsx)(m,{title:"Bal\xf3n parado (en contra)",items:av?.report.setPieces?.against})]})]}):(0,d.jsxs)("form",{onSubmit:aY,className:"space-y-4",children:[(0,d.jsxs)("div",{className:"rounded-lg border bg-gray-50 p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Charla oficial (PDF/PPT/Keynote) – Solo CT"}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"URL del archivo"}),(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1.5 text-sm",placeholder:"https://drive.google.com/…",value:B.charlaUrl||"",onChange:a=>C(b=>({...b,charlaUrl:a.target.value}))}),(0,d.jsx)("p",{className:"text-[11px] text-gray-500",children:"Peg\xe1 el enlace compartible (Drive, Dropbox, etc.). Opcional."})]}),B.charlaUrl?(0,d.jsx)("div",{className:"flex items-end",children:(0,d.jsx)("a",{href:B.charlaUrl,target:"_blank",rel:"noreferrer",className:"text-xs underline",children:"Abrir charla en nueva pesta\xf1a →"})}):null]})]}),(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Informe visual (visible para jugadores seg\xfan visibilidad)"}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"Sistema"}),(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1.5 text-sm",placeholder:'Ej: "4-3-3"',value:B.report.system||"",onChange:a=>C(b=>({...b,report:{...b.report,system:a.target.value}}))})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"Jugadores clave (1 por l\xednea)"}),(0,d.jsx)("textarea",{className:"w-full rounded-md border px-2 py-1.5 text-sm h-24",placeholder:"Ej: P\xe9rez 10 G\xf3mez 9",value:aO(B.report.keyPlayers),onChange:a=>C(b=>({...b,report:{...b.report,keyPlayers:aN(a.target.value)}}))})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"Fortalezas (1 por l\xednea)"}),(0,d.jsx)("textarea",{className:"w-full rounded-md border px-2 py-1.5 text-sm h-24",placeholder:"Presi\xf3n alta Transiciones r\xe1pidas",value:aO(B.report.strengths),onChange:a=>C(b=>({...b,report:{...b.report,strengths:aN(a.target.value)}}))})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"Debilidades (1 por l\xednea)"}),(0,d.jsx)("textarea",{className:"w-full rounded-md border px-2 py-1.5 text-sm h-24",placeholder:"Lentitud en repliegue Laterales dejan espalda",value:aO(B.report.weaknesses),onChange:a=>C(b=>({...b,report:{...b.report,weaknesses:aN(a.target.value)}}))})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"Bal\xf3n parado – A favor (1 por l\xednea)"}),(0,d.jsx)("textarea",{className:"w-full rounded-md border px-2 py-1.5 text-sm h-24",placeholder:"C\xf3rner cerrado primer palo Tiro libre directo",value:aO(B.report.setPieces?.for),onChange:a=>C(b=>({...b,report:{...b.report,setPieces:{for:aN(a.target.value),against:b.report.setPieces?.against||[]}}}))})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"Bal\xf3n parado – En contra (1 por l\xednea)"}),(0,d.jsx)("textarea",{className:"w-full rounded-md border px-2 py-1.5 text-sm h-24",placeholder:"C\xf3rner segundos palos Saques de banda largos",value:aO(B.report.setPieces?.against),onChange:a=>C(b=>({...b,report:{...b.report,setPieces:{for:b.report.setPieces?.for||[],against:aN(a.target.value)}}}))})]})]}),(0,d.jsxs)("div",{className:"pt-2",children:[(0,d.jsx)("button",{type:"submit",disabled:z,className:`px-3 py-1.5 rounded-xl text-xs ${z?"bg-gray-200 text-gray-500":"bg-black text-white hover:opacity-90"}`,children:z?"Guardando…":"Guardar plan"}),x&&(0,d.jsx)("span",{className:"ml-3 text-xs text-gray-500",children:"Cargando plan…"})]})]})]})]}),"videos"===k&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Videos"}),r?ar?(0,d.jsx)("div",{className:"text-gray-500 text-sm",children:"Cargando…"}):(0,d.jsxs)("div",{className:"space-y-2",children:[!aD?.showVideos&&(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"No visible para jugadores."}),aD?.showVideos&&(ax?.length||0)>0?(0,d.jsx)("ul",{className:"list-disc pl-4 text-sm",children:ax.map((a,b)=>(0,d.jsx)("li",{children:(0,d.jsx)("a",{href:a.url,className:"underline",target:"_blank",rel:"noreferrer",children:a.title||a.url})},b))}):aD?.showVideos?(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Sin videos."}):null]}):(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("input",{className:"rounded-md border px-2 py-1 text-sm w-64",placeholder:"T\xedtulo (opcional)",value:V,onChange:a=>W(a.target.value)}),(0,d.jsx)("input",{className:`rounded-md border px-2 py-1 text-sm flex-1 ${X&&!j(X)?"border-red-500 bg-red-50":""}`,placeholder:"URL del video",value:X,onChange:a=>Y(a.target.value),onKeyDown:a=>"Enter"===a.key?(a.preventDefault(),a$()):null}),(0,d.jsx)("button",{onClick:a$,className:"text-xs px-2 py-1 rounded-md border hover:bg-gray-50",children:"+ Agregar"})]}),aX&&(0,d.jsx)("div",{className:"text-xs text-red-600",children:"Hay URLs inv\xe1lidas. Corregilas para poder guardar."}),R?(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Cargando…"}):(0,d.jsxs)("ul",{className:"space-y-2",children:[0===(P||[]).length&&(0,d.jsx)("li",{className:"text-sm text-gray-500",children:"Sin videos."}),P.map((a,b)=>{let c=!!a.url&&!j(a.url);return(0,d.jsxs)("li",{className:"flex items-center gap-2",children:[(0,d.jsxs)("span",{className:`text-sm flex-1 truncate ${c?"text-red-700":""}`,children:[a.title?`${a.title} — `:"",a.url]}),(0,d.jsx)("button",{onClick:()=>{Q(a=>a.filter((a,c)=>c!==b))},className:"text-xs px-2 py-1 rounded-md border hover:bg-gray-50",children:"Borrar"})]},b)})]}),(0,d.jsx)("div",{className:"pt-1",children:(0,d.jsx)("button",{onClick:a_,disabled:T||aX,className:`px-3 py-1.5 rounded-xl text-xs ${T||aX?"bg-gray-200 text-gray-500":"bg-black text-white hover:opacity-90"}`,children:T?"Guardando…":"Guardar videos"})})]})]}),"stats"===k&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Estad\xedsticas"}),r?ar?(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Cargando…"}):(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,d.jsx)(n,{label:"GF",value:az?.totals?.gf,hidden:!aD?.showStatsTotalsGF}),(0,d.jsx)(n,{label:"GC",value:az?.totals?.ga,hidden:!aD?.showStatsTotalsGA}),(0,d.jsx)(n,{label:"% Posesi\xf3n",value:az?.totals?.possession,hidden:!aD?.showStatsTotalsPossession})]}),aD?.showStatsRecent?(0,d.jsx)("div",{className:"rounded-lg border",children:(0,d.jsxs)("table",{className:"w-full text-sm",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"text-left p-2",children:"Fecha"}),(0,d.jsx)("th",{className:"text-left p-2",children:"Rival"}),(0,d.jsx)("th",{className:"text-left p-2",children:"Comp"}),(0,d.jsx)("th",{className:"text-left p-2",children:"Loc"}),(0,d.jsx)("th",{className:"text-right p-2",children:"GF"}),(0,d.jsx)("th",{className:"text-right p-2",children:"GC"})]})}),(0,d.jsxs)("tbody",{children:[0===(az?.recent||[]).length&&(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:6,className:"p-2 text-gray-500",children:"Sin datos."})}),(az?.recent||[]).map((a,b)=>(0,d.jsxs)("tr",{className:"border-t",children:[(0,d.jsx)("td",{className:"p-2",children:a.date||"—"}),(0,d.jsx)("td",{className:"p-2",children:a.opponent||"—"}),(0,d.jsx)("td",{className:"p-2",children:a.comp||"—"}),(0,d.jsx)("td",{className:"p-2",children:a.homeAway||"—"}),(0,d.jsx)("td",{className:"p-2 text-right",children:Number.isFinite(a.gf)?a.gf:"—"}),(0,d.jsx)("td",{className:"p-2 text-right",children:Number.isFinite(a.ga)?a.ga:"—"})]},b))]})]})}):(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"\xdaltimos partidos ocultos para jugadores."})]}):(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"GF"}),(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1.5 text-sm",type:"number",value:Z.totals?.gf??"",onChange:a=>$(b=>({...b,totals:{...b.totals||{},gf:""===a.target.value?void 0:Number(a.target.value)}}))})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"GA"}),(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1.5 text-sm",type:"number",value:Z.totals?.ga??"",onChange:a=>$(b=>({...b,totals:{...b.totals||{},ga:""===a.target.value?void 0:Number(a.target.value)}}))})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{className:"text-[11px] text-gray-500",children:"% Posesi\xf3n"}),(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1.5 text-sm",type:"number",value:Z.totals?.possession??"",onChange:a=>$(b=>({...b,totals:{...b.totals||{},possession:""===a.target.value?void 0:Number(a.target.value)}}))})]})]}),(0,d.jsxs)("div",{className:"rounded-lg border",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-2",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide",children:"\xdaltimos partidos"}),(0,d.jsx)("button",{onClick:function(){$(a=>({...a,recent:[{},...a.recent||[]]}))},className:"text-xs px-2 py-1 rounded-md border hover:bg-gray-50",children:"+ Agregar fila"})]}),(0,d.jsxs)("table",{className:"w-full text-sm",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"text-left p-2",children:"Fecha (ISO o texto)"}),(0,d.jsx)("th",{className:"text-left p-2",children:"Rival"}),(0,d.jsx)("th",{className:"text-left p-2",children:"Comp"}),(0,d.jsx)("th",{className:"text-left p-2",children:"Loc"}),(0,d.jsx)("th",{className:"text-right p-2",children:"GF"}),(0,d.jsx)("th",{className:"text-right p-2",children:"GC"}),(0,d.jsx)("th",{className:"p-2"})]})}),(0,d.jsxs)("tbody",{children:[0===(Z.recent||[]).length&&(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:7,className:"p-2 text-gray-500",children:"Sin filas."})}),(Z.recent||[]).map((a,b)=>(0,d.jsxs)("tr",{className:"border-t",children:[(0,d.jsx)("td",{className:"p-1",children:(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1",value:a.date??"",onChange:a=>a0(b,{date:a.target.value})})}),(0,d.jsx)("td",{className:"p-1",children:(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1",value:a.opponent??"",onChange:a=>a0(b,{opponent:a.target.value})})}),(0,d.jsx)("td",{className:"p-1",children:(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1",value:a.comp??"",onChange:a=>a0(b,{comp:a.target.value})})}),(0,d.jsx)("td",{className:"p-1",children:(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1",value:a.homeAway??"",onChange:a=>a0(b,{homeAway:a.target.value}),placeholder:"H/A/N"})}),(0,d.jsx)("td",{className:"p-1",children:(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1 text-right",type:"number",value:a.gf??"",onChange:a=>a0(b,{gf:""===a.target.value?void 0:Number(a.target.value)})})}),(0,d.jsx)("td",{className:"p-1",children:(0,d.jsx)("input",{className:"w-full rounded-md border px-2 py-1 text-right",type:"number",value:a.ga??"",onChange:a=>a0(b,{ga:""===a.target.value?void 0:Number(a.target.value)})})}),(0,d.jsx)("td",{className:"p-1",children:(0,d.jsx)("button",{onClick:()=>{$(a=>({...a,recent:(a.recent||[]).filter((a,c)=>c!==b)}))},className:"text-xs px-2 py-1 rounded-md border hover:bg-gray-50",children:"Borrar"})})]},b))]})]})]}),(0,d.jsx)("div",{className:"pt-1",children:(0,d.jsx)("button",{onClick:a1,disabled:ab,className:`px-3 py-1.5 rounded-xl text-xs ${ab?"bg-gray-200 text-gray-500":"bg-black text-white hover:opacity-90"}`,children:ab?"Guardando…":"Guardar estad\xedsticas"})})]})]}),"notas"===k&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold",children:"Notas internas"}),r?ar?(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Cargando…"}):aD?.showNotesForPlayers?(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"rounded-lg border p-3 bg-gray-50",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide",children:"Observaciones"}),(0,d.jsx)("div",{className:"text-sm text-gray-800 mt-1 whitespace-pre-wrap",children:aB?.observations||"—"})]}),(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide",children:"Checklist"}),(0,d.jsxs)("ul",{className:"mt-2 space-y-1",children:[0===(aB?.checklist||[]).length&&(0,d.jsx)("li",{className:"text-sm text-gray-500",children:"Sin \xedtems."}),(aB?.checklist||[]).map((a,b)=>(0,d.jsxs)("li",{className:"text-sm",children:[a.done?"✅ ":"⬜ "," ",a.text]},b))]})]})]}):(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"No visible para jugadores."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"rounded-lg border p-3 bg-gray-50",children:[(0,d.jsx)("label",{className:"text-[12px] font-semibold uppercase tracking-wide",children:"Observaciones"}),(0,d.jsx)("textarea",{className:"w-full rounded-md border px-2 py-1.5 text-sm h-28 mt-1 bg-white",placeholder:"Ideas, alertas, instrucciones internas…",value:ad.observations||"",onChange:a=>ae(b=>({...b,observations:a.target.value}))})]}),(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide",children:"Checklist"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("input",{className:"rounded-md border px-2 py-1 text-sm w-64",placeholder:"Nuevo \xedtem…",value:aj,onChange:a=>ak(a.target.value),onKeyDown:a=>"Enter"===a.key?(a.preventDefault(),a2()):null}),(0,d.jsx)("button",{onClick:a2,className:"text-xs px-2 py-1 rounded-md border hover:bg-gray-50",children:"+ Agregar"})]})]}),(0,d.jsxs)("ul",{className:"mt-3 space-y-2",children:[0===(ad.checklist||[]).length&&(0,d.jsx)("li",{className:"text-sm text-gray-500",children:"Sin \xedtems."}),(ad.checklist||[]).map((a,b)=>(0,d.jsxs)("li",{className:"flex items-center gap-2",children:[(0,d.jsx)("input",{type:"checkbox",checked:!!a.done,onChange:()=>{ae(a=>{let c=[...a.checklist||[]];return c[b]={...c[b],done:!c[b].done},{...a,checklist:c}})}}),(0,d.jsx)("input",{className:`flex-1 rounded-md border px-2 py-1 text-sm ${a.done?"line-through text-gray-500":""}`,value:a.text,onChange:a=>{var c;return c=a.target.value,void ae(a=>{let d=[...a.checklist||[]];return d[b]={...d[b],text:c},{...a,checklist:d}})}}),(0,d.jsx)("button",{onClick:()=>{ae(a=>({...a,checklist:(a.checklist||[]).filter((a,c)=>c!==b)}))},className:"text-xs px-2 py-1 rounded-md border hover:bg-gray-50",children:"Borrar"})]},b))]}),(0,d.jsxs)("div",{className:"pt-3",children:[(0,d.jsx)("button",{onClick:a3,disabled:ah,className:`px-3 py-1.5 rounded-xl text-xs ${ah?"bg-gray-200 text-gray-500":"bg-black text-white hover:opacity-90"}`,children:ah?"Guardando…":"Guardar notas"}),af&&(0,d.jsx)("span",{className:"ml-3 text-xs text-gray-500",children:"Cargando…"})]})]})]})]}),"visibilidad"===k&&(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold",children:"Visibilidad (qu\xe9 ven los jugadores)"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{onClick:a7,disabled:ap,className:"text-xs px-3 py-1.5 rounded-xl border hover:bg-gray-50",title:"Restaurar valores predeterminados",children:"Restaurar"}),(0,d.jsx)("button",{onClick:a6,disabled:ap,className:`text-xs px-3 py-1.5 rounded-xl ${ap?"bg-gray-200 text-gray-500":"bg-black text-white hover:opacity-90"}`,children:ap?"Guardando…":"Guardar cambios"})]})]}),an?(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"Cargando…"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Plan de partido"}),(0,d.jsx)(o,{label:"Sistema",checked:al.showSystem,onChange:a=>a4("showSystem",a)}),(0,d.jsx)(o,{label:"Jugadores clave",checked:al.showKeyPlayers,onChange:a=>a4("showKeyPlayers",a)}),(0,d.jsx)(o,{label:"Fortalezas",checked:al.showStrengths,onChange:a=>a4("showStrengths",a)}),(0,d.jsx)(o,{label:"Debilidades",checked:al.showWeaknesses,onChange:a=>a4("showWeaknesses",a)}),(0,d.jsx)(o,{label:"Bal\xf3n parado – A favor",checked:al.showSetPiecesFor,onChange:a=>a4("showSetPiecesFor",a)}),(0,d.jsx)(o,{label:"Bal\xf3n parado – En contra",checked:al.showSetPiecesAgainst,onChange:a=>a4("showSetPiecesAgainst",a)})]}),(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Plantel"}),(0,d.jsx)(o,{label:"Mostrar plantel a jugadores",checked:al.showSquad,onChange:a=>a4("showSquad",a)})]}),(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Charla oficial"}),(0,d.jsx)(o,{label:"Mostrar enlace de charla a jugadores",checked:al.showCharlaUrl,onChange:a=>a4("showCharlaUrl",a)})]}),(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Videos"}),(0,d.jsx)(o,{label:"Mostrar lista de videos",checked:al.showVideos,onChange:a=>a4("showVideos",a)})]}),(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Estad\xedsticas"}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-2",children:[(0,d.jsx)(o,{label:"GF (goles a favor)",checked:al.showStatsTotalsGF,onChange:a=>a4("showStatsTotalsGF",a)}),(0,d.jsx)(o,{label:"GC (goles en contra)",checked:al.showStatsTotalsGA,onChange:a=>a4("showStatsTotalsGA",a)}),(0,d.jsx)(o,{label:"% de posesi\xf3n",checked:al.showStatsTotalsPossession,onChange:a=>a4("showStatsTotalsPossession",a)}),(0,d.jsx)(o,{label:"\xdaltimos partidos",checked:al.showStatsRecent,onChange:a=>a4("showStatsRecent",a)})]})]}),(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Notas internas"}),(0,d.jsx)(o,{label:"Permitir ver notas a jugadores",checked:al.showNotesForPlayers,onChange:a=>a4("showNotesForPlayers",a)})]}),(0,d.jsxs)("div",{className:"pt-2",children:[(0,d.jsx)("button",{onClick:a6,disabled:ap,className:`px-3 py-1.5 rounded-xl text-xs ${ap?"bg-gray-200 text-gray-500":"bg-black text-white hover:opacity-90"}`,children:ap?"Guardando…":"Guardar cambios"}),(0,d.jsx)("span",{className:"ml-3 text-xs text-gray-500",children:"Tip: activ\xe1 “Vista jugador” arriba para previsualizar."})]})]})]}),"importar"===k&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold",children:"Importar datos (Wyscout PDF / CSV)"}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"PDF de informe de equipo"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Sub\xed el PDF de Wyscout (informe de equipo). Intentaremos extraer DT, sistema base, jugadores clave, fortalezas/debilidades y algunos totales."}),(0,d.jsx)("input",{type:"file",accept:"application/pdf",onChange:a=>aI(a.target.files?.[0]||null)}),(0,d.jsx)("div",{className:"pt-2",children:(0,d.jsx)("button",{onClick:a8,disabled:aF||!aH,className:`px-3 py-1.5 rounded-xl text-xs ${aF||!aH?"bg-gray-200 text-gray-500":"bg-black text-white hover:opacity-90"}`,children:aF?"Procesando…":"Importar PDF"})})]}),(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"CSV de resultados/estad\xedstica"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Sub\xed un CSV con columnas t\xedpicas (date, opponent, comp, homeAway, gf, ga, possession). Se actualizar\xe1n “\xdaltimos partidos” y los totales (GF/GA/Posesi\xf3n)."}),(0,d.jsx)("input",{type:"file",accept:".csv,text/csv",onChange:a=>aK(a.target.files?.[0]||null)}),(0,d.jsx)("div",{className:"pt-2",children:(0,d.jsx)("button",{onClick:a9,disabled:aF||!aJ,className:`px-3 py-1.5 rounded-xl text-xs ${aF||!aJ?"bg-gray-200 text-gray-500":"bg-black text-white hover:opacity-90"}`,children:aF?"Procesando…":"Importar CSV"})})]})]}),aL&&(0,d.jsx)("div",{className:"text-sm px-3 py-2 rounded-md border bg-gray-50",children:aL}),(0,d.jsx)("div",{className:"text-xs text-gray-500",children:"Nota: El parseo es heur\xedstico. Si alg\xfan dato no sale perfecto, pod\xe9s corregirlo a mano en las pesta\xf1as “Plan” y “Estad\xedsticas”."})]})]})]})}function l({title:a,content:b}){return(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-1",children:a}),(0,d.jsx)("div",{className:"text-sm text-gray-800",children:b||"—"})]})}function m({title:a,items:b}){return(0,d.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-1",children:a}),b&&b.length?(0,d.jsx)("ul",{className:"list-disc pl-4 text-sm text-gray-800 space-y-0.5",children:b.map((a,b)=>(0,d.jsx)("li",{children:a},b))}):(0,d.jsx)("div",{className:"text-sm text-gray-500",children:"—"})]})}function n({label:a,value:b,hidden:c}){if(c)return null;let e="number"==typeof b&&Number.isFinite(b);return(0,d.jsxs)("div",{className:"rounded-lg border p-3 bg-gray-50",children:[(0,d.jsx)("div",{className:"text-[11px] text-gray-500",children:a}),(0,d.jsx)("div",{className:"text-lg font-semibold",children:e?b:"—"})]})}function o({label:a,checked:b,onChange:c}){return(0,d.jsxs)("label",{className:"flex items-center justify-between gap-3 py-1.5",children:[(0,d.jsx)("span",{className:"text-sm text-gray-800",children:a}),(0,d.jsx)("input",{type:"checkbox",className:"h-4 w-4",checked:b,onChange:a=>c(a.target.checked)})]})}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10989:(a,b,c)=>{"use strict";c.d(b,{default:()=>e});var d=c(71265);function e({children:a}){return(0,d.jsx)(Object(function(){var a=Error("Cannot find module 'next-auth/react'");throw a.code="MODULE_NOT_FOUND",a}()),{children:a})}!function(){var a=Error("Cannot find module 'next-auth/react'");throw a.code="MODULE_NOT_FOUND",a}()},17207:(a,b,c)=>{Promise.resolve().then(c.bind(c,50687))},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},28915:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(88767).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/Fran/ctbrain-7/app/ct/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/Fran/ctbrain-7/app/ct/layout.tsx","default")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29730:(a,b,c)=>{Promise.resolve().then(c.bind(c,28915))},29937:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,67337,23)),Promise.resolve().then(c.t.bind(c,74672,23)),Promise.resolve().then(c.t.bind(c,67038,23)),Promise.resolve().then(c.t.bind(c,76465,23)),Promise.resolve().then(c.t.bind(c,49125,23)),Promise.resolve().then(c.t.bind(c,19773,23)),Promise.resolve().then(c.t.bind(c,99535,23)),Promise.resolve().then(c.t.bind(c,71328,23)),Promise.resolve().then(c.bind(c,22381))},32241:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(88767).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/Fran/ctbrain-7/app/ct/rivales/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/Fran/ctbrain-7/app/ct/rivales/[id]/page.tsx","default")},33873:a=>{"use strict";a.exports=require("path")},38122:(a,b,c)=>{Promise.resolve().then(c.bind(c,32241))},38515:(a,b,c)=>{"use strict";var d=c(9807);c.o(d,"useParams")&&c.d(b,{useParams:function(){return d.useParams}}),c.o(d,"usePathname")&&c.d(b,{usePathname:function(){return d.usePathname}}),c.o(d,"useRouter")&&c.d(b,{useRouter:function(){return d.useRouter}}),c.o(d,"useSearchParams")&&c.d(b,{useSearchParams:function(){return d.useSearchParams}})},39665:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,12963,23)),Promise.resolve().then(c.t.bind(c,81842,23)),Promise.resolve().then(c.t.bind(c,34788,23)),Promise.resolve().then(c.t.bind(c,13467,23)),Promise.resolve().then(c.t.bind(c,5019,23)),Promise.resolve().then(c.t.bind(c,83731,23)),Promise.resolve().then(c.t.bind(c,16901,23)),Promise.resolve().then(c.t.bind(c,73210,23)),Promise.resolve().then(c.t.bind(c,2315,23))},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},50327:()=>{},50687:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(88767).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/Fran/ctbrain-7/app/providers.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/Fran/ctbrain-7/app/providers.tsx","default")},53999:(a,b,c)=>{Promise.resolve().then(c.bind(c,10989))},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64234:(a,b,c)=>{Promise.resolve().then(c.bind(c,80449))},80449:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i});var d=c(71265);c(34708);var e=c(46028),f=c.n(e),g=c(38515);function h({href:a,children:b,active:c,soon:e}){let g="block rounded-md px-2 py-1.5 text-sm transition";return a?(0,d.jsx)(f(),{href:a,className:`${g} ${c?"bg-black text-white":"hover:bg-gray-100"}`,children:b}):(0,d.jsxs)("span",{className:`${g} text-gray-400 cursor-not-allowed`,children:[b," ",e&&(0,d.jsx)("small",{className:"ml-1",children:"PRONTO"})]})}function i({children:a}){let b=(0,g.usePathname)(),c=a=>b===a||b?.startsWith(a+"/");return(0,d.jsxs)("div",{className:"min-h-screen flex bg-gray-50",children:[(0,d.jsxs)("aside",{className:"w-64 shrink-0 border-r bg-white p-3 space-y-3",children:[(0,d.jsx)("div",{className:"px-2 py-1 text-[10px] font-semibold text-gray-500",children:"INICIO"}),(0,d.jsx)("ul",{className:"space-y-0.5 mb-2",children:(0,d.jsx)("li",{children:(0,d.jsx)(h,{href:"/ct",active:"/ct"===b,children:"Dashboard / Inicio r\xe1pido"})})}),(0,d.jsx)("div",{className:"px-2 py-1 text-[10px] font-semibold text-gray-500",children:"MONITOREO"}),(0,d.jsxs)("ul",{className:"space-y-0.5 mb-2",children:[(0,d.jsx)("li",{children:(0,d.jsx)(h,{href:"/ct/metrics/wellness",active:c("/ct/metrics/wellness"),children:"Wellness"})}),(0,d.jsx)("li",{children:(0,d.jsx)(h,{href:"/ct/metrics/rpe",active:c("/ct/metrics/rpe"),children:"Rpe"})}),(0,d.jsx)("li",{children:(0,d.jsx)(h,{href:"/ct/injuries",active:c("/ct/injuries"),children:"Lesionados"})})]}),(0,d.jsx)("div",{className:"px-2 py-1 text-[10px] font-semibold text-gray-500",children:"PLANIFICACI\xd3N"}),(0,d.jsxs)("ul",{className:"space-y-0.5 mb-2",children:[(0,d.jsx)("li",{children:(0,d.jsx)(h,{href:"/ct/plan-semanal",active:c("/ct/plan-semanal"),children:"Plan semanal (Editor)"})}),(0,d.jsx)("li",{children:(0,d.jsx)(h,{href:"/ct/sessions",active:c("/ct/sessions"),children:"Sesiones"})}),(0,d.jsx)("li",{children:(0,d.jsx)(h,{href:"/ct/exercises",active:c("/ct/exercises"),children:"Ejercicios"})})]}),(0,d.jsx)("div",{className:"px-2 py-1 text-[10px] font-semibold text-gray-500",children:"T\xc9CNICA"}),(0,d.jsxs)("ul",{className:"space-y-0.5 mb-2",children:[(0,d.jsx)("li",{children:(0,d.jsx)(h,{href:"/ct/rivales",active:c("/ct/rivales"),children:"Rivales / Plan de partido"})}),(0,d.jsx)("li",{children:(0,d.jsx)(h,{href:"/ct/scouting",active:c("/ct/scouting"),children:"Scouting"})})]}),(0,d.jsx)("div",{className:"px-2 py-1 text-[10px] font-semibold text-gray-500",children:"SALIR"}),(0,d.jsx)("ul",{className:"space-y-0.5",children:(0,d.jsx)("li",{children:(0,d.jsx)("button",{"aria-label":"Cerrar sesi\xf3n",onClick:()=>Object(function(){var a=Error("Cannot find module 'next-auth/react'");throw a.code="MODULE_NOT_FOUND",a}())({callbackUrl:"/login"}),className:"block w-full text-left rounded-md px-2 py-1.5 text-sm transition hover:bg-gray-100",children:"Cerrar sesi\xf3n"})})})]}),(0,d.jsx)("main",{className:"flex-1 p-3 md:p-4",children:a})]})}!function(){var a=Error("Cannot find module 'next-auth/react'");throw a.code="MODULE_NOT_FOUND",a}()},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},93485:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(79593),e=c(6782),f=c(38926),g=c(78335),h=c(81525),i=c(8061),j=c(67716),k=c(65317),l=c(73301),m=c(14223),n=c(95067),o=c(61676),p=c(20266),q=c(92391),r=c(261),s=c(37134),t=c(6787),u=c(26713),v=c(2687),w=c(20940),x=c(11808),y=c(63217),z=c(59863),A=c(96605),B=c(86439),C=c(12963),D=c.n(C),E=c(30431),F=c(25374),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["ct",{children:["rivales",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,32241)),"/Users/Fran/ctbrain-7/app/ct/rivales/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,28915)),"/Users/Fran/ctbrain-7/app/ct/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,94255)),"/Users/Fran/ctbrain-7/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,12963,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,74731,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,74894,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,63113,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,I=["/Users/Fran/ctbrain-7/app/ct/rivales/[id]/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/ct/rivales/[id]/page",pathname:"/ct/rivales/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/ct/rivales/[id]/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},94255:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(50031);c(50327);var e=c(50687);let f={title:"ctbrain",description:"App"};function g({children:a}){return(0,d.jsx)("html",{lang:"es",children:(0,d.jsx)("body",{children:(0,d.jsx)(e.default,{children:a})})})}}};var b=require("../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[7983,7789,3876,6028],()=>b(b.s=93485));module.exports=c})();