"use strict";(()=>{var e={};e.id=5321,e.ids=[5321],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},32525:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>v,routeModule:()=>m,serverHooks:()=>h,staticGenerationAsyncStorage:()=>x});var o={};t.r(o),t.d(o,{POST:()=>c,dynamic:()=>d,runtime:()=>p});var a=t(49303),s=t(88716),n=t(60670),i=t(87070),u=t(13538),l=t(53524);let p="nodejs",d="force-dynamic";async function c(e){let r=e.headers.get("x-admin-token");if(!r||r!==process.env.ADMIN_TASKS_TOKEN)return i.NextResponse.json({error:"unauthorized"},{status:401});let t=await e.json().catch(()=>null),o=t?.email,a=t?.role;if(!o||!a||!l.Role[a])return i.NextResponse.json({error:"email/role inv\xe1lidos"},{status:400});let s=await u._.user.updateMany({where:{email:o},data:{role:l.Role[a]}});return i.NextResponse.json({updated:s.count,email:o,role:a})}let m=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/dev/set-role/route",pathname:"/api/dev/set-role",filename:"route",bundlePath:"app/api/dev/set-role/route"},resolvedPagePath:"/Users/Fran/ctbrain-14/src/app/api/dev/set-role/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:v,staticGenerationAsyncStorage:x,serverHooks:h}=m,g="/api/dev/set-role/route";function f(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:x})}},13538:(e,r,t)=>{t.d(r,{Z:()=>s,_:()=>a});var o=t(53524);let a=globalThis.prisma??new o.PrismaClient({log:["error"]}),s=a}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[8948,5972],()=>t(32525));module.exports=o})();