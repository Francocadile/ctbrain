"use strict";(()=>{var e={};e.id=5597,e.ids=[5597],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},45115:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>g,serverHooks:()=>x,staticGenerationAsyncStorage:()=>m});var o={};t.r(o),t.d(o,{DELETE:()=>p,GET:()=>c,PUT:()=>d});var a=t(49303),n=t(88716),s=t(60670),i=t(87070),u=t(75748);async function c(e,{params:r}){try{let e=await u._.scoutingCategory.findUnique({where:{id:r.id}});if(!e)return i.NextResponse.json({error:"Categor\xeda no encontrada"},{status:404});return i.NextResponse.json({data:e})}catch(e){return i.NextResponse.json({error:e?.message??"Error"},{status:500})}}async function d(e,{params:r}){try{let t=await e.json(),o=await u._.scoutingCategory.update({where:{id:r.id},data:{nombre:"string"==typeof t.nombre?t.nombre:void 0,color:"string"==typeof t.color?t.color:void 0,activa:"boolean"==typeof t.activa?t.activa:void 0,orden:"number"==typeof t.orden?t.orden:void 0}});return i.NextResponse.json({data:o})}catch(e){if(String(e?.message??"").includes("Record to update not found"))return i.NextResponse.json({error:"Categor\xeda no encontrada"},{status:404});return i.NextResponse.json({error:e?.message??"Error al actualizar"},{status:500})}}async function p(e,{params:r}){try{if(await u._.scoutingPlayer.count({where:{categoriaId:r.id}})>0)return i.NextResponse.json({error:"No se puede borrar: la categor\xeda tiene jugadores. Moverlos primero."},{status:400});let e=await u._.scoutingCategory.deleteMany({where:{id:r.id}});if(0===e.count)return i.NextResponse.json({error:"Categor\xeda no encontrada"},{status:404});return i.NextResponse.json({ok:!0})}catch(e){return i.NextResponse.json({error:e?.message??"Error al borrar"},{status:500})}}let g=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/ct/scouting/categories/[id]/route",pathname:"/api/ct/scouting/categories/[id]",filename:"route",bundlePath:"app/api/ct/scouting/categories/[id]/route"},resolvedPagePath:"/Users/Fran/ctbrain-14/src/app/api/ct/scouting/categories/[id]/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:x}=g,v="/api/ct/scouting/categories/[id]/route";function f(){return(0,s.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:m})}},75748:(e,r,t)=>{t.d(r,{_:()=>a});var o=t(53524);let a=globalThis.prisma??new o.PrismaClient({log:["error"]})}};var r=require("../../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[8948,5972],()=>t(45115));module.exports=o})();