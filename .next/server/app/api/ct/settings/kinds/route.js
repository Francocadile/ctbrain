"use strict";(()=>{var e={};e.id=7857,e.ids=[7857],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},35021:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>f,routeModule:()=>m,serverHooks:()=>x,staticGenerationAsyncStorage:()=>w});var r={};n.r(r),n.d(r,{GET:()=>d,POST:()=>c,PUT:()=>l});var a=n(49303),i=n(88716),s=n(60670),o=n(87070);let u=new(n(53524)).PrismaClient;function p(...e){for(let t of e){let e=u[t];if(e&&"object"==typeof e)return e}return null}async function d(e){return new Response("Not implemented",{status:501})}async function c(e){try{let t=p("exerciseKind","ExerciseKind","kind","Kind");if(!t)return new o.NextResponse("Modelo ExerciseKind/Kind no disponible en el schema actual",{status:501});let{name:n}=await e.json(),r=String(n||"").trim();if(!r)return new o.NextResponse("name requerido",{status:400});await t.upsert({where:{name:r},update:{},create:{name:r}});let a=(await t.findMany({orderBy:{name:"asc"}})||[]).map(e=>String(e.name)).filter(Boolean);return o.NextResponse.json(a)}catch(e){return new o.NextResponse(e?.message||"Error",{status:500})}}async function l(e){try{let t=p("exerciseKind","ExerciseKind","kind","Kind");if(!t)return new o.NextResponse("Modelo ExerciseKind/Kind no disponible en el schema actual",{status:501});let{items:n}=await e.json(),r=Array.from(new Set((Array.isArray(n)?n:[]).map(e=>String(e).trim()).filter(Boolean))),a=await t.findMany({select:{name:!0}}),i=new Set((a||[]).map(e=>String(e.name))),s=new Set(r),u=[...i].filter(e=>!s.has(e));u.length&&await t.deleteMany({where:{name:{in:u}}}),await Promise.all(r.map(e=>t.upsert({where:{name:e},update:{},create:{name:e}})));let d=(await t.findMany({orderBy:{name:"asc"}})||[]).map(e=>String(e.name)).filter(Boolean);return o.NextResponse.json(d)}catch(e){return new o.NextResponse(e?.message||"Error",{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/ct/settings/kinds/route",pathname:"/api/ct/settings/kinds",filename:"route",bundlePath:"app/api/ct/settings/kinds/route"},resolvedPagePath:"/Users/Fran/ctbrain-14/src/app/api/ct/settings/kinds/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:f,staticGenerationAsyncStorage:w,serverHooks:x}=m,g="/api/ct/settings/kinds/route";function h(){return(0,s.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:w})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[8948,5972],()=>n(35021));module.exports=r})();