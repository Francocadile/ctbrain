(()=>{var e={};e.id=3746,e.ids=[3746],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},20763:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o}),t(22357),t(35884),t(15495),t(35866);var s=t(23191),a=t(88716),l=t(37922),n=t.n(l),i=t(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let o=["",{children:["jugador",{children:["wellness",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,22357)),"/Users/Fran/ctbrain-14/src/app/jugador/wellness/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,35884)),"/Users/Fran/ctbrain-14/src/app/jugador/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,15495)),"/Users/Fran/ctbrain-14/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/Fran/ctbrain-14/src/app/jugador/wellness/page.tsx"],u="/jugador/wellness/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/jugador/wellness/page",pathname:"/jugador/wellness",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},54630:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},14497:(e,r,t)=>{Promise.resolve().then(t.bind(t,42126))},65071:(e,r,t)=>{Promise.resolve().then(t.bind(t,56869))},45592:(e,r,t)=>{Promise.resolve().then(t.bind(t,76279))},90434:(e,r,t)=>{"use strict";t.d(r,{default:()=>a.a});var s=t(79404),a=t.n(s)},56869:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(10326),a=t(90434);function l({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur border-b",children:(0,s.jsxs)("div",{className:"mx-auto max-w-5xl px-4 py-2 flex items-center justify-between",children:[s.jsx(a.default,{href:"/jugador",className:"font-semibold",children:"Jugador — Panel"}),s.jsx("nav",{className:"flex items-center gap-2",children:s.jsx("a",{href:"/api/auth/signout?callbackUrl=/jugador",className:"text-sm rounded-lg border px-2 py-1 hover:bg-gray-50",children:"Salir"})})]})}),s.jsx("main",{className:"mx-auto max-w-5xl p-4",children:e})]})}},76279:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(10326),a=t(17577);let l=[{value:1,emoji:"\uD83D\uDE1E",label:"Muy mal",tone:"bg-red-50  border-red-200  text-red-700"},{value:2,emoji:"\uD83D\uDE41",label:"Mal",tone:"bg-orange-50 border-orange-200 text-orange-700"},{value:3,emoji:"\uD83D\uDE10",label:"Normal",tone:"bg-gray-50 border-gray-200 text-gray-700"},{value:4,emoji:"\uD83D\uDE42",label:"Bien",tone:"bg-lime-50 border-lime-200 text-lime-700"},{value:5,emoji:"\uD83D\uDE04",label:"Excelente",tone:"bg-emerald-50 border-emerald-200 text-emerald-700"}];function n({value:e,onChange:r}){return s.jsx("div",{className:"flex gap-2",children:l.map(t=>{let a=e===t.value;return(0,s.jsxs)("button",{type:"button",className:`flex-1 rounded-lg border px-2 py-2 text-sm text-center
              ${a?t.tone+" ring-2 ring-black/30":"bg-white"}`,onClick:()=>r(t.value),title:`${t.value} — ${t.label}`,children:[s.jsx("div",{className:"text-xl",children:t.emoji}),(0,s.jsxs)("div",{className:"mt-1 text-xs font-medium",children:[t.value," \xb7 ",t.label]})]},t.value)})})}function i(){let[e,r]=(0,a.useState)(new Date().toISOString().slice(0,10)),[t,l]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),[o,c]=(0,a.useState)(!0),[u,x]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[h,v]=(0,a.useState)(""),[j,y]=(0,a.useState)(""),[f,N]=(0,a.useState)(""),[P,w]=(0,a.useState)(""),[S,_]=(0,a.useState)(!1),[C,D]=(0,a.useState)(!1);async function E(){if(o){alert("Cargando identidad…");return}if(!t){alert("userId y date requeridos");return}let r={date:e,userId:t,playerKey:i||null,sleepQuality:Number(u||0),sleepHours:m?Number(m):null,fatigue:Number(g||0),soreness:Number(h||0),stress:Number(j||0),mood:Number(f||0),comment:P.trim()||null},s=await fetch("/api/metrics/wellness",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),cache:"no-store"});if(!s.ok){alert(await s.text()||"Error");return}D(!0),alert("\xa1Wellness enviado!")}let k=Number(u||0)+Number(g||0)+Number(h||0)+Number(j||0)+Number(f||0)||0,q=o||!t||""===u||""===g||""===h||""===j||""===f;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>history.back(),className:"text-sm",children:"← Volver"}),s.jsx("a",{href:"/api/auth/signout?callbackUrl=/jugador",className:"text-sm underline",children:"Salir"})]}),s.jsx("h1",{className:"text-xl font-bold",children:"Wellness diario"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Eleg\xed una carita (1–5) para cada \xedtem. 5 = mejor."}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-[12px] text-gray-500",children:"Fecha"}),s.jsx("input",{type:"date",className:"w-full rounded-md border px-2 py-1.5",value:e,onChange:e=>r(e.target.value)})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-[12px] text-gray-500",children:"Tu nombre (login)"}),s.jsx("input",{className:"w-full rounded-md border px-2 py-1.5",value:i,disabled:!0})]})]}),(0,s.jsxs)("div",{className:"rounded-2xl border bg-white p-4 space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-[12px] text-gray-500 mb-1",children:"Calidad de sue\xf1o"}),s.jsx(n,{value:u,onChange:e=>x(e)})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-3 items-end",children:(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-[12px] text-gray-500 mb-1",children:"Horas de sue\xf1o"}),s.jsx("input",{className:"w-full rounded-md border px-2 py-1.5",placeholder:"Ej: 7.5",value:m,onChange:e=>p(e.target.value)})]})}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-[12px] text-gray-500 mb-1",children:"Fatiga"}),s.jsx(n,{value:g,onChange:e=>b(e)})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-[12px] text-gray-500 mb-1",children:"Dolor muscular"}),s.jsx(n,{value:h,onChange:e=>v(e)})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-[12px] text-gray-500 mb-1",children:"Estr\xe9s"}),s.jsx(n,{value:j,onChange:e=>y(e)})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-[12px] text-gray-500 mb-1",children:"\xc1nimo"}),s.jsx(n,{value:f,onChange:e=>N(e)})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-[12px] text-gray-500 mb-1",children:"Comentario (opcional)"}),s.jsx("textarea",{className:"w-full rounded-md border px-2 py-1.5",rows:3,value:P,onChange:e=>w(e.target.value)})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Puntaje parcial (sin horas): ",s.jsx("b",{children:k||"—"})]}),S&&C&&(0,s.jsxs)("div",{className:"text-xs text-emerald-700 bg-emerald-50 border border-emerald-200 rounded-md px-2 py-1",children:["Ya enviaste tu Wellness hoy. Pod\xe9s editar y volver a ",s.jsx("b",{children:"Guardar"}),"."]}),s.jsx("button",{onClick:E,disabled:q,className:`px-3 py-1.5 rounded-xl text-sm ${q?"bg-gray-200 text-gray-500":"bg-black text-white hover:opacity-90"}`,children:C?"Guardar cambios":"Enviar Wellness"}),!i&&s.jsx("div",{className:"text-xs text-red-600 mt-2",children:"No pudimos leer tu nombre/email de la sesi\xf3n. Cerr\xe1 sesi\xf3n y volv\xe9 a iniciar."})]})]})}},42126:(e,r,t)=>{"use strict";t.d(r,{default:()=>l});var s=t(10326),a=t(77109);function l({children:e}){return s.jsx(a.SessionProvider,{children:e})}},35884:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var s=t(68570);let a=(0,s.createProxy)(String.raw`/Users/Fran/ctbrain-14/src/app/jugador/layout.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,s.createProxy)(String.raw`/Users/Fran/ctbrain-14/src/app/jugador/layout.tsx#default`)},22357:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var s=t(68570);let a=(0,s.createProxy)(String.raw`/Users/Fran/ctbrain-14/src/app/jugador/wellness/page.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,s.createProxy)(String.raw`/Users/Fran/ctbrain-14/src/app/jugador/wellness/page.tsx#default`)},15495:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c,metadata:()=>o});var s=t(19510);t(5023);var a=t(68570);let l=(0,a.createProxy)(String.raw`/Users/Fran/ctbrain-14/src/app/providers.tsx`),{__esModule:n,$$typeof:i}=l;l.default;let d=(0,a.createProxy)(String.raw`/Users/Fran/ctbrain-14/src/app/providers.tsx#default`),o={title:"ctbrain",description:"App"};function c({children:e}){return s.jsx("html",{lang:"es",children:s.jsx("body",{children:s.jsx(d,{children:e})})})}},5023:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,1159,9404],()=>t(20763));module.exports=s})();