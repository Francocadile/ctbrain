(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7124],{1933:function(e,t,n){Promise.resolve().then(n.bind(n,5871))},5871:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i},dynamic:function(){return c}});var s=n(7437),r=n(2265),a=n(6463),o=n(3010);let c="force-dynamic";function i(){let{id:e}=(0,a.useParams)(),t=(0,a.useRouter)(),[n,c]=r.useState(null),[i,l]=r.useState(!0),[d,u]=r.useState(null);return r.useEffect(()=>{let t=!0;async function n(){l(!0),u(null);try{let n=await fetch("/api/medico/clinical/".concat(e),{cache:"no-store"});if(!n.ok)throw Error("HTTP ".concat(n.status));let s=await n.json();if(!t)return;c(s)}catch(e){if(!t)return;u((null==e?void 0:e.message)||"No se pudo cargar el episodio.")}finally{t&&l(!1)}}return e&&n(),()=>{t=!1}},[e]),(0,s.jsxs)("main",{className:"min-h-[70vh] px-6 py-8",children:[(0,s.jsxs)("header",{className:"mb-6 flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Editar episodio cl\xednico"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Actualiz\xe1 estado, ETR, restricciones o plan. El CT lo ver\xe1 en lectura."})]}),i||d||!n?null:(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsx)("button",{className:"h-9 rounded-md border px-3 text-sm",onClick:()=>t.push("/medico/injuries/new?from=".concat(encodeURIComponent(String(e)))),title:"Crea un nuevo parte con estos datos como base (fecha y estado pod\xe9s ajustarlos).",children:"Duplicar como nuevo"})})]}),i?(0,s.jsx)("div",{className:"rounded-xl border bg-white p-5 text-gray-500",children:"Cargandoâ€¦"}):d?(0,s.jsxs)("div",{className:"rounded-xl border bg-white p-5 text-red-600",children:["Error: ",d,(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)("button",{className:"h-9 rounded-md border px-3 text-sm",onClick:()=>t.back(),children:"Volver"})})]}):n?(0,s.jsx)("section",{className:"rounded-xl border bg-white p-5",children:(0,s.jsx)(o.Z,{initial:n,defaultDate:n.date,onCancel:()=>t.back(),onSaved:()=>t.push("/medico/injuries")})}):(0,s.jsx)("div",{className:"rounded-xl border bg-white p-5 text-gray-500",children:"No se encontr\xf3 el episodio."})]})}}},function(e){e.O(0,[7635,2971,7023,1744],function(){return e(e.s=1933)}),_N_E=e.O()}]);