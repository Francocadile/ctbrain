(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4966],{3088:function(e,r,a){Promise.resolve().then(a.bind(a,2009))},2009:function(e,r,a){"use strict";a.d(r,{default:function(){return l}});var t=a(7437),s=a(2265);function l(){let[e,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null),[n,o]=(0,s.useState)(null);async function d(e){e.preventDefault(),l(null),o(null),r(!0);let a=e.currentTarget,t=a.elements.namedItem("name").value.trim(),s=a.elements.namedItem("email").value.trim().toLowerCase(),n=a.elements.namedItem("password").value;try{let e=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:s,password:n,role:"JUGADOR"})});if(!e.ok){let r=await e.json().catch(()=>({})),a=((null==r?void 0:r.error)&&"string"==typeof r.error?r.error:"No se pudo crear el usuario")||"No se pudo crear el usuario";throw Error(a)}o("Cuenta creada. Un Admin debe aprobar tu acceso. Luego pod\xe9s iniciar sesi\xf3n."),a.reset()}catch(e){var d;l(null!==(d=null==e?void 0:e.message)&&void 0!==d?d:"Error creando la cuenta")}finally{r(!1)}}return(0,t.jsx)("main",{className:"min-h-screen bg-gray-50",children:(0,t.jsx)("div",{className:"mx-auto max-w-xl px-6 py-12",children:(0,t.jsxs)("section",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[(0,t.jsxs)("header",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Crear cuenta"}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["Alta p\xfablica habilitada solo para ",(0,t.jsx)("b",{children:"JUGADOR"}),". Otros roles se crean desde Admin."]})]}),a&&(0,t.jsx)("p",{className:"mt-4 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:a}),n&&(0,t.jsx)("p",{className:"mt-4 rounded-lg border border-green-200 bg-green-50 px-3 py-2 text-sm text-green-700",children:n}),(0,t.jsxs)("form",{onSubmit:d,className:"mt-4 space-y-3",children:[(0,t.jsx)("input",{type:"text",name:"name",placeholder:"Nombre y apellido",className:"w-full rounded-lg border px-3 py-2",required:!0}),(0,t.jsx)("input",{type:"email",name:"email",placeholder:"Email",className:"w-full rounded-lg border px-3 py-2",required:!0}),(0,t.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a (m\xedn. 6)",className:"w-full rounded-lg border px-3 py-2",required:!0,minLength:6}),(0,t.jsx)("button",{type:"submit",disabled:e,className:"w-full rounded-lg border bg-gray-900 px-4 py-2 text-sm font-medium text-white hover:bg-gray-900/90 disabled:opacity-60",children:e?"Creando...":"Crear cuenta (Jugador)"})]}),(0,t.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"\xbfYa ten\xe9s cuenta?"}),(0,t.jsx)("a",{href:"/login",className:"rounded-lg border px-4 py-2 text-sm font-medium hover:bg-gray-50",title:"Volver al login",children:"Volver al login"})]}),(0,t.jsxs)("p",{className:"mt-3 text-xs text-gray-500",children:["\xbfNecesit\xe1s acceso como ",(0,t.jsx)("b",{children:"CT"}),", ",(0,t.jsx)("b",{children:"M\xe9dico"})," o ",(0,t.jsx)("b",{children:"Directivo"}),"? Pedilo a un Admin."]})]})})})}}},function(e){e.O(0,[2971,7023,1744],function(){return e(e.s=3088)}),_N_E=e.O()}]);