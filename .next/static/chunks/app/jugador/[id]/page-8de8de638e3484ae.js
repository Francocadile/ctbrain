(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4327],{7338:function(e,s,t){Promise.resolve().then(t.bind(t,8120))},7138:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var l=t(231),a=t.n(l)},6463:function(e,s,t){"use strict";var l=t(1169);t.o(l,"useParams")&&t.d(s,{useParams:function(){return l.useParams}}),t.o(l,"usePathname")&&t.d(s,{usePathname:function(){return l.usePathname}}),t.o(l,"useRouter")&&t.d(s,{useRouter:function(){return l.useRouter}}),t.o(l,"useSearchParams")&&t.d(s,{useSearchParams:function(){return l.useSearchParams}})},8120:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return n}});var l=t(7437),a=t(7138),r=t(6463),i=t(2265);function n(){var e,s,t,n,h,x,m,u,p,j,g,v,N,b,f;let{id:y}=(0,r.useParams)(),[w,P]=(0,i.useState)(null),[k,S]=(0,i.useState)(!0);if((0,i.useEffect)(()=>{let e=!0;return(async()=>{try{S(!0);let s=await fetch("/api/ct/rivales/".concat(y,"/player"),{cache:"no-store"}),t=await s.json().catch(()=>({}));if(!e)return;P((null==t?void 0:t.data)||null)}finally{S(!1)}})(),()=>{e=!1}},[y]),k)return(0,l.jsx)("div",{className:"p-4 text-gray-500",children:"Cargando…"});if(!w)return(0,l.jsxs)("div",{className:"p-4 space-y-2",children:[(0,l.jsx)("div",{className:"text-red-500",children:"Rival no disponible"}),(0,l.jsx)(a.default,{href:"/jugador/dashboard",className:"text-sm underline",children:"← Volver"})]});let{basics:C,plan:_,videos:F,stats:D,notes:E,squad:R}=w,A=C.nextMatchDate?(()=>{let e=new Date(C.nextMatchDate);try{let s=e.toLocaleString(void 0,{weekday:"short",day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return"".concat(s).concat(C.nextMatchCompetition?" • ".concat(C.nextMatchCompetition):"")}catch(e){return"—"}})():"—";return(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,l.jsx)(a.default,{href:"/jugador/dashboard",className:"underline",children:"Inicio"}),(0,l.jsx)("span",{className:"mx-1",children:"/"}),(0,l.jsx)("span",{className:"font-medium",children:C.name})]}),(0,l.jsxs)("header",{className:"flex items-center gap-4 border-b pb-3",children:[C.logoUrl?(0,l.jsx)("img",{src:C.logoUrl,alt:C.name,className:"h-16 w-16 rounded border object-contain bg-white"}):(0,l.jsx)("div",{className:"h-16 w-16 rounded border bg-gray-100"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:C.name}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["DT: ",(0,l.jsx)("b",{children:C.coach||"—"})," • Sistema base: ",C.baseSystem||"—"]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Pr\xf3ximo partido: ",A]})]})]}),(0,l.jsxs)("section",{className:"rounded-xl border bg-white p-4 space-y-4",children:[_.charlaUrl&&(0,l.jsxs)("div",{className:"rounded-lg border bg-gray-50 p-3",children:[(0,l.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-1",children:"Charla oficial"}),(0,l.jsx)("a",{href:_.charlaUrl,target:"_blank",rel:"noreferrer",className:"text-sm underline",children:"Abrir charla →"})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[_.report.system?(0,l.jsx)(d,{title:"Sistema",content:_.report.system}):null,(null===(e=_.report.keyPlayers)||void 0===e?void 0:e.length)?(0,l.jsx)(c,{title:"Jugadores clave",items:_.report.keyPlayers}):null,(null===(s=_.report.strengths)||void 0===s?void 0:s.length)?(0,l.jsx)(c,{title:"Fortalezas",items:_.report.strengths}):null,(null===(t=_.report.weaknesses)||void 0===t?void 0:t.length)?(0,l.jsx)(c,{title:"Debilidades",items:_.report.weaknesses}):null,(null===(h=_.report.setPieces)||void 0===h?void 0:null===(n=h.for)||void 0===n?void 0:n.length)?(0,l.jsx)(c,{title:"Bal\xf3n parado (a favor)",items:_.report.setPieces.for}):null,(null===(m=_.report.setPieces)||void 0===m?void 0:null===(x=m.against)||void 0===x?void 0:x.length)?(0,l.jsx)(c,{title:"Bal\xf3n parado (en contra)",items:_.report.setPieces.against}):null]})]}),Array.isArray(R)&&R.length>0&&(0,l.jsxs)("section",{className:"rounded-xl border bg-white p-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Plantel"}),(0,l.jsx)("div",{className:"rounded-lg border overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left p-2 w-16",children:"#"}),(0,l.jsx)("th",{className:"text-left p-2",children:"Jugador"}),(0,l.jsx)("th",{className:"text-left p-2 w-40",children:"Posici\xf3n"}),(0,l.jsx)("th",{className:"text-left p-2",children:"Video"})]})}),(0,l.jsx)("tbody",{children:R.map((e,s)=>{var t,a;return(0,l.jsxs)("tr",{className:"border-t",children:[(0,l.jsx)("td",{className:"p-2",children:null!==(a=e.number)&&void 0!==a?a:"—"}),(0,l.jsx)("td",{className:"p-2",children:e.name}),(0,l.jsx)("td",{className:"p-2",children:e.position||"—"}),(0,l.jsx)("td",{className:"p-2",children:(null===(t=e.video)||void 0===t?void 0:t.url)?(0,l.jsx)("a",{href:e.video.url,className:"underline",target:"_blank",rel:"noreferrer",children:e.video.title||e.video.url}):"—"})]},s)})})]})})]}),(0,l.jsxs)("section",{className:"rounded-xl border bg-white p-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Videos"}),w.videos&&0!==w.videos.length?(0,l.jsx)("ul",{className:"list-disc pl-4 text-sm",children:w.videos.map((e,s)=>(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:e.url,className:"underline",target:"_blank",rel:"noreferrer",children:e.title||e.url})},s))}):(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Sin videos."})]}),(0,l.jsxs)("section",{className:"rounded-xl border bg-white p-4 space-y-3",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Estad\xedsticas"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,l.jsx)(o,{label:"GF",value:null===(p=w.stats)||void 0===p?void 0:null===(u=p.totals)||void 0===u?void 0:u.gf}),(0,l.jsx)(o,{label:"GC",value:null===(g=w.stats)||void 0===g?void 0:null===(j=g.totals)||void 0===j?void 0:j.ga}),(0,l.jsx)(o,{label:"% Posesi\xf3n",value:null===(N=w.stats)||void 0===N?void 0:null===(v=N.totals)||void 0===v?void 0:v.possession})]}),(0,l.jsx)("div",{className:"rounded-lg border",children:(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left p-2",children:"Fecha"}),(0,l.jsx)("th",{className:"text-left p-2",children:"Rival"}),(0,l.jsx)("th",{className:"text-left p-2",children:"Comp"}),(0,l.jsx)("th",{className:"text-left p-2",children:"Loc"}),(0,l.jsx)("th",{className:"text-right p-2",children:"GF"}),(0,l.jsx)("th",{className:"text-right p-2",children:"GC"})]})}),(0,l.jsxs)("tbody",{children:[0===((null===(b=w.stats)||void 0===b?void 0:b.recent)||[]).length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:6,className:"p-2 text-gray-500",children:"Sin datos."})}),((null===(f=w.stats)||void 0===f?void 0:f.recent)||[]).map((e,s)=>(0,l.jsxs)("tr",{className:"border-t",children:[(0,l.jsx)("td",{className:"p-2",children:e.date||"—"}),(0,l.jsx)("td",{className:"p-2",children:e.opponent||"—"}),(0,l.jsx)("td",{className:"p-2",children:e.comp||"—"}),(0,l.jsx)("td",{className:"p-2",children:e.homeAway||"—"}),(0,l.jsx)("td",{className:"p-2 text-right",children:Number.isFinite(e.gf)?e.gf:"—"}),(0,l.jsx)("td",{className:"p-2 text-right",children:Number.isFinite(e.ga)?e.ga:"—"})]},s))]})]})})]}),E&&(0,l.jsxs)("section",{className:"rounded-xl border bg-white p-4 space-y-3",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Notas del CT"}),(0,l.jsx)("div",{className:"rounded-lg border p-3 bg-gray-50",children:(0,l.jsx)("div",{className:"text-sm whitespace-pre-wrap",children:E.observations||"—"})}),(0,l.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,l.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-1",children:"Checklist"}),(0,l.jsxs)("ul",{className:"space-y-1",children:[0===(E.checklist||[]).length&&(0,l.jsx)("li",{className:"text-sm text-gray-500",children:"Sin \xedtems."}),(E.checklist||[]).map((e,s)=>(0,l.jsxs)("li",{className:"text-sm",children:[e.done?"✅ ":"⬜ "," ",e.text]},s))]})]})]})]})}function d(e){let{title:s,content:t}=e;return(0,l.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,l.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-1",children:s}),(0,l.jsx)("div",{className:"text-sm text-gray-800",children:t||"—"})]})}function c(e){let{title:s,items:t}=e;return(0,l.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,l.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-1",children:s}),t&&t.length?(0,l.jsx)("ul",{className:"list-disc pl-4 text-sm text-gray-800 space-y-0.5",children:t.map((e,s)=>(0,l.jsx)("li",{children:e},s))}):(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"—"})]})}function o(e){let{label:s,value:t}=e,a="number"==typeof t&&Number.isFinite(t);return(0,l.jsxs)("div",{className:"rounded-lg border p-3 bg-gray-50",children:[(0,l.jsx)("div",{className:"text-[11px] text-gray-500",children:s}),(0,l.jsx)("div",{className:"text-lg font-semibold",children:a?t:"—"})]})}}},function(e){e.O(0,[231,2971,7023,1744],function(){return e(e.s=7338)}),_N_E=e.O()}]);