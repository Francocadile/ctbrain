(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5845],{3368:function(t,e,a){Promise.resolve().then(a.bind(a,948))},7138:function(t,e,a){"use strict";a.d(e,{default:function(){return i.a}});var n=a(231),i=a.n(n)},948:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var n=a(7437),i=a(7138),s=a(2265),l=a(4665),r=a(6827);function c(t){var e,a;let{params:c}=t,[o,d]=(0,s.useState)(null),[u,g]=(0,s.useState)(!0);async function h(){g(!0);try{let t=await (0,l.RC)(c.id);d(t)}finally{g(!1)}}return(0,s.useEffect)(()=>{h()},[c.id]),(0,n.jsxs)(r.Z,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-lg md:text-xl font-bold",children:"Ficha de jugador"}),(0,n.jsx)("p",{className:"text-xs md:text-sm text-gray-500",children:"Datos, contactos y videos."})]}),(0,n.jsx)(i.default,{href:"/ct/scouting",className:"px-3 py-1.5 rounded-xl border hover:bg-gray-50 text-xs",children:"← Scouting"})]}),u?(0,n.jsx)("div",{className:"p-4 text-gray-500",children:"Cargando…"}):o?(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,n.jsxs)("section",{className:"rounded-2xl border bg-white p-3",children:[(0,n.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Datos"}),(0,n.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Nombre:"})," ",o.fullName]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Posici\xf3n:"})," ",(o.positions||[]).join("/")||"—"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Club:"})," ",o.club||"—"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Estado:"})," ",o.estado]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Rating:"})," ",null!==(a=o.rating)&&void 0!==a?a:"—"]})]})]}),(0,n.jsxs)("section",{className:"rounded-2xl border bg-white p-3",children:[(0,n.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Contacto"}),(0,n.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Agente:"})," ",o.agentName||"—"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Tel. agente:"})," ",o.agentPhone||"—"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Email agente:"})," ",o.agentEmail||"—"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Tel. jugador:"})," ",o.playerPhone||"—"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Email jugador:"})," ",o.playerEmail||"—"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-gray-500",children:"Instagram:"})," ",o.instagram||"—"]})]})]}),(0,n.jsxs)("section",{className:"rounded-2xl border bg-white p-3 md:col-span-2",children:[(0,n.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Videos"}),(null===(e=o.videos)||void 0===e?void 0:e.length)?(0,n.jsx)("ul",{className:"list-disc pl-5 text-sm space-y-1",children:o.videos.map((t,e)=>(0,n.jsx)("li",{children:(0,n.jsx)("a",{className:"underline text-emerald-700 break-all",href:t,target:"_blank",rel:"noreferrer",children:t})},e))}):(0,n.jsx)("div",{className:"text-sm text-gray-500",children:"Sin videos"})]}),(0,n.jsxs)("section",{className:"rounded-2xl border bg-white p-3 md:col-span-2",children:[(0,n.jsx)("div",{className:"text-[12px] font-semibold uppercase tracking-wide mb-2",children:"Notas"}),(0,n.jsx)("div",{className:"text-sm whitespace-pre-wrap",children:o.notes||"—"})]})]}):(0,n.jsx)("div",{className:"p-4 text-gray-500 italic",children:"Jugador no encontrado."})]})}},6827:function(t,e,a){"use strict";a.d(e,{Z:function(){return i}});var n=a(7437);function i(t){let{children:e}=t;return(0,n.jsx)("div",{className:"mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-8",children:e})}},4665:function(t,e,a){"use strict";a.d(e,{Jp:function(){return g},M_:function(){return d},RC:function(){return u},WQ:function(){return h},k4:function(){return r},kb:function(){return l},uu:function(){return o},yr:function(){return c}});let n="ct_scout_categories",i="ct_scout_players_";async function s(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e3;try{let n=window.location.origin,i=t.startsWith("http")?t:"".concat(n).concat(t),s=new AbortController,l=setTimeout(()=>s.abort(),a),r=await fetch(i,{...e,signal:s.signal,cache:"no-store"});if(clearTimeout(l),!r.ok)return null;return await r.json()}catch(t){return null}}async function l(){let t=await s("/api/ct/scouting/categories");if(null==t?void 0:t.data){try{localStorage.setItem(n,JSON.stringify(t.data))}catch(t){}return t.data}try{let t=localStorage.getItem(n);if(t)return JSON.parse(t)}catch(t){}return[]}async function r(t){let e=await s("/api/ct/scouting/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:t})});if(null==e?void 0:e.data){let t=await l();t.push(e.data);try{localStorage.setItem(n,JSON.stringify(t))}catch(t){}return e.data}let a=t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,""),i={id:"local_".concat(Date.now()),nombre:t,slug:a,orden:Date.now(),activa:!0,color:void 0},r=await l();r.push(i);try{localStorage.setItem(n,JSON.stringify(r))}catch(t){}return i}async function c(t,e){let a=await s("/api/ct/scouting/categories/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(null==a?void 0:a.data){let e=await l(),i=e.findIndex(e=>e.id===t);i>=0&&(e[i]=a.data);try{localStorage.setItem(n,JSON.stringify(e))}catch(t){}return a.data}let i=await l(),r=i.findIndex(e=>e.id===t);r>=0&&(i[r]={...i[r],...e});try{localStorage.setItem(n,JSON.stringify(i))}catch(t){}return i[r]}async function o(t){try{let e=await fetch("/api/ct/scouting/categories/".concat(t),{method:"DELETE",cache:"no-store"}),a=null;try{a=await e.json()}catch(t){a=null}if(!e.ok)return{error:(null==a?void 0:a.error)||"HTTP ".concat(e.status)};let i=(await l()).filter(e=>e.id!==t);try{localStorage.setItem(n,JSON.stringify(i))}catch(t){}return{ok:!0}}catch(t){return{error:(null==t?void 0:t.message)||"Error de red al borrar categor\xeda"}}}async function d(t){let e=new URLSearchParams;(null==t?void 0:t.categoriaId)&&e.set("categoriaId",t.categoriaId),(null==t?void 0:t.q)&&e.set("q",t.q),(null==t?void 0:t.estado)&&e.set("estado",t.estado);let a=await s("/api/ct/scouting/players?".concat(e.toString()));if(null==a?void 0:a.data){if(null==t?void 0:t.categoriaId)try{localStorage.setItem(i+t.categoriaId,JSON.stringify(a.data))}catch(t){}return a.data}if(null==t?void 0:t.categoriaId)try{let e=localStorage.getItem(i+t.categoriaId);if(e)return JSON.parse(e)}catch(t){}return[]}async function u(t){var e;let a=await s("/api/ct/scouting/players/".concat(t));return null!==(e=null==a?void 0:a.data)&&void 0!==e?e:null}async function g(t){var e,a,n,l,r,c,o,u,g,h,x,m,p,f,y;let v={...t},N=t.id?"/api/ct/scouting/players/".concat(t.id):"/api/ct/scouting/players",j=t.id?"PUT":"POST",w=await s(N,{method:j,headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(null==w?void 0:w.data){if(w.data.categoriaId){let t=await d({categoriaId:w.data.categoriaId}),e=t.findIndex(t=>t.id===w.data.id);e>=0?t[e]=w.data:t.push(w.data);try{localStorage.setItem(i+w.data.categoriaId,JSON.stringify(t))}catch(t){}}return w.data}let b={id:null!==(e=t.id)&&void 0!==e?e:"local_".concat(Date.now()),fullName:t.fullName,positions:null!==(a=t.positions)&&void 0!==a?a:[],club:null!==(n=t.club)&&void 0!==n?n:null,estado:null!==(l=t.estado)&&void 0!==l?l:"ACTIVO",categoriaId:null!==(r=t.categoriaId)&&void 0!==r?r:null,agentName:null!==(c=t.agentName)&&void 0!==c?c:null,agentPhone:null!==(o=t.agentPhone)&&void 0!==o?o:null,agentEmail:null!==(u=t.agentEmail)&&void 0!==u?u:null,playerPhone:null!==(g=t.playerPhone)&&void 0!==g?g:null,playerEmail:null!==(h=t.playerEmail)&&void 0!==h?h:null,instagram:null!==(x=t.instagram)&&void 0!==x?x:null,videos:null!==(m=t.videos)&&void 0!==m?m:[],notes:null!==(p=t.notes)&&void 0!==p?p:null,rating:null!==(f=t.rating)&&void 0!==f?f:null,tags:null!==(y=t.tags)&&void 0!==y?y:[]};if(b.categoriaId){let t=await d({categoriaId:b.categoriaId}),e=t.findIndex(t=>t.id===b.id);e>=0?t[e]=b:t.push(b);try{localStorage.setItem(i+b.categoriaId,JSON.stringify(t))}catch(t){}}return b}async function h(t){return await s("/api/ct/scouting/players/".concat(t),{method:"DELETE"}),{ok:!0}}}},function(t){t.O(0,[231,2971,7023,1744],function(){return t(t.s=3368)}),_N_E=t.O()}]);