(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8386],{1884:function(t,e,a){Promise.resolve().then(a.bind(a,5012))},7138:function(t,e,a){"use strict";a.d(e,{default:function(){return i.a}});var n=a(231),i=a.n(n)},5012:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return o}});var n=a(7437),i=a(7138),r=a(2265),l=a(6344);function o(){let[t,e]=(0,r.useState)(!0),[a,o]=(0,r.useState)([]),[c,s]=(0,r.useState)("");async function d(){e(!0);try{let t=await (0,l.oD)();o(t)}finally{e(!1)}}(0,r.useEffect)(()=>{d()},[]);let u=(0,r.useMemo)(()=>{let t=c.trim().toLowerCase();return t?a.filter(e=>e.name.toLowerCase().includes(t)):a},[c,a]);return(0,n.jsxs)("div",{className:"p-4 space-y-4",children:[(0,n.jsxs)("header",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-lg md:text-xl font-bold",children:"Rivales"}),(0,n.jsx)("p",{className:"text-xs md:text-sm text-gray-500",children:"Toc\xe1 un escudo para abrir la ficha t\xe9cnica y el plan de partido."})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{className:"w-56 rounded-md border px-2 py-1.5 text-sm",placeholder:"Buscar rival…",value:c,onChange:t=>s(t.target.value)}),(0,n.jsx)(i.default,{href:"/ct/rivales/gestionar",className:"px-3 py-1.5 rounded-xl border hover:bg-gray-50 text-xs",children:"Gestionar"})]})]}),t?(0,n.jsx)("div",{className:"p-4 text-gray-500",children:"Cargando…"}):0===u.length?(0,n.jsxs)("div",{className:"p-8 text-gray-500 italic border rounded-2xl bg-white",children:["No hay rivales para mostrar.",(0,n.jsx)(i.default,{href:"/ct/rivales/gestionar",className:"ml-1 underline",children:"Agregalos desde “Gestionar”."})]}):(0,n.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-4",children:u.map(t=>(0,n.jsxs)(i.default,{href:"/ct/rivales/".concat(t.id),className:"flex flex-col items-center rounded-lg border bg-white p-3 hover:shadow-md transition",children:[t.logoUrl?(0,n.jsx)("img",{src:t.logoUrl,alt:t.name,className:"h-16 w-16 object-contain rounded bg-white"}):(0,n.jsx)("div",{className:"h-16 w-16 rounded border bg-gray-50"}),(0,n.jsx)("div",{className:"mt-2 text-xs text-gray-600 line-clamp-1",children:t.name})]},t.id))})]})}},6344:function(t,e,a){"use strict";a.d(e,{AA:function(){return u},H$:function(){return o},Om:function(){return m},TL:function(){return s},hV:function(){return c},oD:function(){return d}});let n="ct_exercise_kinds",i="ct_rivals",r=["Rueda de pases","Circuito t\xe9cnico","SSG","MSG","LSG"];async function l(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e3;try{let n=window.location.origin,i=t.startsWith("http")?t:"".concat(n).concat(t),r=new AbortController,l=setTimeout(()=>r.abort(),a),o=await fetch(i,{...e,signal:r.signal,cache:"no-store"});if(clearTimeout(l),!o.ok)return null;return await o.json()}catch(t){return null}}async function o(){var t;let e=await l("/api/exercise-kinds");if(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.length){try{localStorage.setItem(n,JSON.stringify(e.data))}catch(t){}return e.data}try{let t=localStorage.getItem(n);if(t)return JSON.parse(t)}catch(t){}return r}async function c(t){var e;let a=(t||"").trim();if(!a)return o();let i=await l("/api/exercise-kinds",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})});if(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.length){try{localStorage.setItem(n,JSON.stringify(i.data))}catch(t){}return i.data}let r=await o();r.includes(a)||r.push(a);try{localStorage.setItem(n,JSON.stringify(r))}catch(t){}return r}async function s(t){var e;let a=Array.from(new Set((t||[]).map(t=>t.trim()).filter(Boolean))),i=await l("/api/exercise-kinds",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({names:a})}),r=(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.length)?i.data:a;try{localStorage.setItem(n,JSON.stringify(r))}catch(t){}return r}async function d(){let t=await l("/api/ct/rivales");if(null==t?void 0:t.data){try{localStorage.setItem(i,JSON.stringify(t.data))}catch(t){}return t.data}try{let t=localStorage.getItem(i);if(t)return JSON.parse(t)}catch(t){}return[]}async function u(t){var e,a,n,r,o,c,s,u,m,h,f;let g={id:null!==(e=t.id)&&void 0!==e?e:null,name:t.name.trim(),logoUrl:null!==(a=t.logoUrl)&&void 0!==a?a:null,coach:null!==(n=t.coach)&&void 0!==n?n:null,baseSystem:null!==(r=t.baseSystem)&&void 0!==r?r:null,nextMatchDate:null!==(o=t.nextMatchDate)&&void 0!==o?o:null,nextMatchCompetition:null!==(c=t.nextMatchCompetition)&&void 0!==c?c:null},y=t.id?"/api/ct/rivales/".concat(encodeURIComponent(t.id)):"/api/ct/rivales",p=t.id?"PUT":"POST",x=await l(y,{method:p,headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(null==x?void 0:x.data){let t=await d(),e=t.findIndex(t=>t.id===x.data.id);e>=0?t[e]=x.data:t.push(x.data);try{localStorage.setItem(i,JSON.stringify(t))}catch(t){}return x.data}let v=await d(),S=null!==(s=t.id)&&void 0!==s?s:"undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():"id_".concat(Date.now(),"_").concat(Math.random().toString(16).slice(2)),N={id:S,name:g.name,logoUrl:g.logoUrl,coach:null!==(u=g.coach)&&void 0!==u?u:null,baseSystem:null!==(m=g.baseSystem)&&void 0!==m?m:null,nextMatchDate:null!==(h=g.nextMatchDate)&&void 0!==h?h:null,nextMatchCompetition:null!==(f=g.nextMatchCompetition)&&void 0!==f?f:null},w=v.findIndex(t=>t.id===S);w>=0?v[w]=N:v.push(N);try{localStorage.setItem(i,JSON.stringify(v))}catch(t){}return N}async function m(t){let e=await l("/api/ct/rivales/".concat(encodeURIComponent(t)),{method:"DELETE"});if(null==e?void 0:e.ok){let e=(await d()).filter(e=>e.id!==t);try{localStorage.setItem(i,JSON.stringify(e))}catch(t){}return{ok:!0}}let a=(await d()).filter(e=>e.id!==t);try{localStorage.setItem(i,JSON.stringify(a))}catch(t){}return{ok:!0}}}},function(t){t.O(0,[231,2971,7023,1744],function(){return t(t.s=1884)}),_N_E=t.O()}]);